/*! For license information please see sine-waves.min.js.LICENSE.txt */
!function(t,i){"use strict";"function"==typeof define&&"object"==typeof define.amd?define([],(function(){return i()})):t.SineWaves=i()}(this,(function(){"use strict";function t(t){if(this.options=h.defaults(this.options,t),this.el=this.options.el,delete this.options.el,!this.el)throw"No Canvas Selected";if(this.ctx=this.el.getContext("2d"),this.waves=this.options.waves,delete this.options.waves,!this.waves||!this.waves.length)throw"No waves specified";this.dpr=window.devicePixelRatio||1,this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this)),this.setupUserFunctions(),this.easeFn=h.getFn(d,this.options.ease,"linear"),this.rotation=h.degreesToRadians(this.options.rotate),h.isType(this.options.running,"boolean")&&(this.running=this.options.running),this.setupWaveFns(),this.loop()}Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var i=Array.prototype.slice.call(arguments,1),e=this,n=function(){},s=function(){return e.apply(this instanceof n&&t?this:t,i.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,s.prototype=new n,s});for(var i=["ms","moz","webkit","o"],e=0;e<i.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[i[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[e]+"CancelAnimationFrame"]||window[i[e]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(t){var i=(new Date).getTime(),e=Math.max(0,16-(i-n)),s=window.setTimeout((function(){t(i+e)}),e);return n=i+e,s}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var s=Math.PI/180,o=2*Math.PI,r=Math.PI/2,h={},a=h.isType=function(t,i){return{}.toString.call(t).toLowerCase()==="[object "+i.toLowerCase()+"]"},u=h.isFunction=function(t){return a(t,"function")},p=h.isString=function(t){return a(t,"string")},c=(h.isNumber=function(t){return a(t,"number")},h.shallowClone=function(t){var i={};for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}),d=(h.defaults=function(t,i){a(i,"object")||(i={});var e=c(t);for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);return e},h.degreesToRadians=function(t){if(!a(t,"number"))throw new TypeError("Degrees is not a number");return t*s},h.getFn=function(t,i,e){return u(i)?i:p(i)&&u(t[i.toLowerCase()])?t[i.toLowerCase()]:t[e]},{});d.linear=function(t,i){return i},d.sinein=function(t,i){return i*(Math.sin(t*Math.PI-r)+1)*.5},d.sineout=function(t,i){return i*(Math.sin(t*Math.PI+r)+1)*.5},d.sineinout=function(t,i){return i*(Math.sin(t*o-r)+1)*.5};var l={sine:function(t){return Math.sin(t)}};l.sin=l.sine,l.sign=function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},l.square=function(t){return l.sign(Math.sin(t*o))},l.sawtooth=function(t){return 2*(t-Math.floor(t+.5))},l.triangle=function(t){return Math.abs(l.sawtooth(t))},t.prototype.options={speed:10,rotate:0,ease:"Linear",wavesWidth:"95%"},t.prototype.setupWaveFns=function(){for(var t=-1,i=this.waves.length;++t<i;)this.waves[t].waveFn=h.getFn(l,this.waves[t].type,"sine")},t.prototype.setupUserFunctions=function(){h.isFunction(this.options.resizeEvent)&&(this.options.resizeEvent.call(this),window.addEventListener("resize",this.options.resizeEvent.bind(this))),h.isFunction(this.options.initialize)&&this.options.initialize.call(this)};var w={timeModifier:1,amplitude:50,wavelength:50,segmentLength:10,lineWidth:1,strokeStyle:"rgba(255, 255, 255, 0.2)",type:"Sine"};return t.prototype.getDimension=function(t){return h.isNumber(this.options[t])?this.options[t]:h.isFunction(this.options[t])?this.options[t].call(this,this.el):"width"===t?this.el.clientWidth:"height"===t?this.el.clientHeight:void 0},t.prototype.updateDimensions=function(){var t=this.getDimension("width"),i=this.getDimension("height");this.width=this.el.width=t*this.dpr,this.height=this.el.height=i*this.dpr,this.el.style.width=t+"px",this.el.style.height=i+"px",this.waveWidth=function(t,i){return h.isType(t,"number")?t:(t=t.toString()).indexOf("%")>-1?((t=parseFloat(t))>1&&(t/=100),i*t):t.indexOf("px")>-1?parseInt(t,10):void 0}(this.options.wavesWidth,this.width),this.waveLeft=(this.width-this.waveWidth)/2,this.yAxis=this.height/2},t.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},t.prototype.time=0,t.prototype.update=function(t){this.time=this.time-.007,void 0===t&&(t=this.time);var i=-1,e=this.waves.length;for(this.clear(),this.ctx.save(),this.rotation>0&&(this.ctx.translate(this.width/2,this.height/2),this.ctx.rotate(this.rotation),this.ctx.translate(-this.width/2,-this.height/2));++i<e;){var n=this.waves[i].timeModifier||1;this.drawWave(t*n,this.waves[i])}this.ctx.restore(),i=void 0,e=void 0},t.prototype.getPoint=function(t,i,e){var n=t*this.options.speed+(-this.yAxis+i)/e.wavelength,s=e.waveFn.call(this,n,l),o=this.easeFn.call(this,i/this.waveWidth,e.amplitude);return{x:n=i+this.waveLeft,y:s=o*s+this.yAxis}},t.prototype.drawWave=function(t,i){var e,n;for(i=h.defaults(w,i),this.ctx.lineWidth=i.lineWidth*this.dpr,this.ctx.strokeStyle=i.strokeStyle,this.ctx.lineCap="butt",this.ctx.lineJoin="round",this.ctx.beginPath(),this.ctx.moveTo(0,this.yAxis),this.ctx.lineTo(this.waveLeft,this.yAxis),e=0;e<this.waveWidth;e+=i.segmentLength)n=this.getPoint(t,e,i),this.ctx.lineTo(n.x,n.y),n=void 0;e=void 0,i=void 0,this.ctx.lineTo(this.width,this.yAxis),this.ctx.stroke()},t.prototype.running=!0,t.prototype.loop=function(){!0===this.running&&this.update(),window.requestAnimationFrame(this.loop.bind(this))},t.prototype.Waves=l,t.prototype.Ease=d,t}));