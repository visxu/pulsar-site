"use strict";const messages={enterTerm:"Enter a search term",noResult:"No results found",oneResult:"Found one result",manyResults:"Found {0} results",loading:"Loading search index...",searching:"Searching...",redirecting:"Redirecting to first result...",linkIcon:"Link icon",linkToSection:"Link to this section"},categories={modules:"Modules",packages:"Packages",types:"Classes and Interfaces",members:"Members",searchTags:"Search Tags"},highlight="<span class='result-highlight'>$&</span>",NO_MATCH={},MAX_RESULTS=300;function checkUnnamed(e,t){return"<Unnamed>"!==e&&e?e+t:""}function escapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getHighlightedText(e,t,a,n){for(var r=a,s="",i=0;i<t.length;i+=2){var c=t[i],o=t[i+1];c>=n||o<=a||(s+=escapeHtml(e.slice(r,Math.max(r,c))),s+="<span class='result-highlight'>",s+=escapeHtml(e.slice(Math.max(r,c),Math.min(n,o))),s+="</span>",r=Math.min(n,o))}return s+=escapeHtml(e.slice(r,n))}function getURLPrefix(e,t){var a="",n="/";return"modules"===t?e.l+n:"packages"===t&&e.m?e.m+n:("types"!==t&&"members"!==t||(e.m?a=e.m+n:$.each(packageSearchIndex,(function(t,r){r.m&&e.p===r.l&&(a=r.m+n)}))),a)}function getURL(e,t){if(e.url)return e.url;var a=getURLPrefix(e,t);return"modules"===t?a+="module-summary.html":"packages"===t?e.u?a=e.u:a+=e.l.replace(/\./g,"/")+"/package-summary.html":"types"===t?e.u?a=e.u:a+=checkUnnamed(e.p,"/").replace(/\./g,"/")+e.l+".html":"members"===t?(a+=checkUnnamed(e.p,"/").replace(/\./g,"/")+e.c+".html#",e.u?a+=e.u:a+=e.l):"searchTags"===t&&(a+=e.u),e.url=a,a}function createMatcher(e,t){if(t&&!isUpperCase(e))return null;var a="",n=[];e.trim().split(/\s+/).forEach((function(e,r,s){for(var i=e.split(/(?=[A-Z,.()<>?[\/])/),c=0;c<i.length;c++){var o=i[c];a+="("+$.ui.autocomplete.escapeRegex(o).replace(/[,?]/g,"$&\\s*?")+")",n.push(!1),/\w$/.test(o)?c===i.length-1&&r<s.length-1?(a+="(.*?)",n.push(isUpperCase(o[0]))):(!t&&isUpperCase(o)&&1===o.length?a+="()":a+="([a-z0-9$<>?[\\]]*?)",n.push(isUpperCase(o[0]))):(a+="()",n.push(!1))}}));var r=new RegExp(a,"gi");return r.upperCase=n,r}function findMatch(e,t,a,n){var r=a;e.lastIndex=r;for(var s=e.exec(t);!s||s.index+s[0].length<a||n<s.index;){if(0===r)return NO_MATCH;r=t.lastIndexOf(".",r-2)+1,e.lastIndex=r,s=e.exec(t)}for(var i=[],c=s.index+s[0].length,o=5,l=s.index,u=-1,h=1;h<s.length;h+=2){var p=isUpperCase(t[l]),d=e.upperCase[h];i.push(l,l+s[h].length);var g=t[l-1]||"",m=t[l+1]||"";if(0!==l&&!/[\W_]/.test(g)&&!/[\W_]/.test(t[l]))if(p&&(isLowerCase(g)||isLowerCase(m)))o-=.1;else{if(!d||l!==u)return NO_MATCH;o-=p?.1:1}u=l+s[h].length,l+=s[h].length+s[h+1].length,s[h+1]&&u<n&&(o-=rateNoise(s[h+1]))}return"."!==t[c-1]&&n>c&&(o-=rateNoise(t.slice(c,n))),(o-=rateNoise(t.slice(0,Math.max(a,s.index))))<=0?NO_MATCH:{input:t,score:o,boundaries:i}}function isUpperCase(e){return e!==e.toLowerCase()}function isLowerCase(e){return e!==e.toUpperCase()}function rateNoise(e){return(e.match(/([.(])/g)||[]).length/5+(e.match(/([A-Z]+)/g)||[]).length/10+e.length/20}function doSearch(e,t){var a=e.term.trim(),n=e.maxResults||300;if(0===a.length)return this.close();var r={plainMatcher:createMatcher(a,!1),camelCaseMatcher:createMatcher(a,!0)},s=indexFilesLoaded();function i(e,t){var i=[];return e?($.each(e,(function(e,n){var s=function(e,t){switch(t){case"packages":return checkUnnamed(e.m,"/");case"types":return checkUnnamed(e.p,".");case"members":return checkUnnamed(e.p,".")+e.c+".";default:return""}}(n,t),c=n.l,o=s+c,l=function(e){switch(e){case"packages":return/[\s/]/.test(a);case"types":case"members":return/[\s.]/.test(a);default:return!1}}(t),u=l?o:c,h=l?s.length:0,p="members"===t&&u.indexOf("(",h)>-1?u.indexOf("(",h):u.length,d=findMatch(r.plainMatcher,u,h,p);return d===NO_MATCH&&r.camelCaseMatcher&&(d=findMatch(r.camelCaseMatcher,u,h,p)),d!==NO_MATCH&&(d.indexItem=n,d.prefix=s,d.category=t,l||(d.input=o,d.boundaries=d.boundaries.map((function(e){return e+s.length}))),i.push(d)),!0})),i.sort((function(e,t){return t.score-e.score})).slice(0,n)):(s||i.push({l:messages.loading,category:t}),i)}var c=i(moduleSearchIndex,"modules").concat(i(packageSearchIndex,"packages")).concat(i(typeSearchIndex,"types")).concat(i(memberSearchIndex,"members")).concat(i(tagSearchIndex,"searchTags"));updateSearchResults=s?function(){}:function(){doSearch(e,t)},t(c)}$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> .result-item"),this.menu._scrollIntoView=function(e){var t,a,n,r,s,i;this._hasScroll()&&(t=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-t-a,r=this.activeMenu.scrollTop(),s=this.activeMenu.height()-26,i=e.outerHeight(),n<0?this.activeMenu.scrollTop(r+n):n+i>s&&this.activeMenu.scrollTop(r+n-s+i))}},_renderMenu:function(e,t){var a="",n=this;n.menu.bindings=$(),$.each(t,(function(t,r){r.category&&r.category!==a&&(e.append("<li class='ui-autocomplete-category'>"+categories[r.category]+"</li>"),a=r.category);var s=n._renderItemData(e,r);r.category?s.attr("aria-label",categories[r.category]+" : "+r.l):s.attr("aria-label",r.l),s.attr("class","result-item")})),e.append("<li class='ui-static-link'><a href='"+pathtoroot+"search.html?q="+encodeURI(n.term)+"'>Go to search page</a></li>")},_renderItem:function(e,t){var a=$("<li/>").appendTo(e),n=$("<div/>").appendTo(a),r=t.l?t.l:getHighlightedText(t.input,t.boundaries,0,t.input.length),s=t.indexItem;return"searchTags"===t.category&&s&&s.h?s.d?n.html(r+"<span class='search-tag-holder-result'> ("+s.h+")</span><br><span class='search-tag-desc-result'>"+s.d+"</span><br>"):n.html(r+"<span class='search-tag-holder-result'> ("+s.h+")</span>"):n.html(r),a}}),$((function(){var e,t=!1;function a(){t&&($("div#navbar-top").removeAttr("style"),$("button#navbar-toggle-button").removeClass("expanded").attr("aria-expanded","false"),t=!1)}$("button#navbar-toggle-button").click((function(n){if(t)a();else{var r=$("div#navbar-top");r.height(r.prop("scrollHeight")),$("button#navbar-toggle-button").addClass("expanded").attr("aria-expanded","true"),t=!0,e=window.innerWidth}})),$("ul.sub-nav-list-small li a").click(a),$("input#search-input").focus(a),$("main").click(a),$("section[id] > :header, :header[id], :header:has(a[id])").each((function(e,t){var a=$(t),n=a.attr("id")||a.parent("section").attr("id")||a.children("a").attr("id");n&&a.append(" <a href='#"+n+"' class='anchor-link' aria-label='"+messages.linkToSection+"'><img src='"+pathtoroot+"link.svg' alt='"+messages.linkIcon+"' tabindex='0' width='16' height='16'></a>")})),$(window).on("orientationchange",a).on("resize",(function(n){t&&e!==window.innerWidth&&a()}));var n=$("#search-input"),r=$("#reset-button");n.catcomplete({minLength:1,delay:200,source:doSearch,response:function(e,t){t.content.length?$("#search-input").empty():t.content.push({l:messages.noResult})},autoFocus:!0,focus:function(e,t){return!1},position:{collision:"flip"},select:function(e,t){if(t.item.indexItem){var a=getURL(t.item.indexItem,t.item.category);window.location.href=pathtoroot+a,$("#search-input").focus()}}}),n.val(""),n.prop("disabled",!1),r.prop("disabled",!1),r.click((function(){n.val("").focus()})),n.focus()}));