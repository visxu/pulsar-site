"use strict";$((function(){var e=$("#page-search-copy"),t=$("#page-search-expand"),a=$("span#page-search-link"),s=$("input#search-redirect");function n(){var t=document.location.href.split(/[#?]/)[0];t+="?q=%s",s.is(":checked")&&(t+="&r=1"),a.html(t),e[0].onmouseenter()}e.click((function(e){copyToClipboard(this.previousSibling.innerText),switchCopyLabel(this,this.lastElementChild)})),e[0].onmouseenter=function(){},s.click(n),n(),e.prop("disabled",!1),s.prop("disabled",!1),t.click((function(e){var t=$("div.page-search-info");this.parentElement.hasAttribute("open")?t.attr("style","border-width: 0;"):t.attr("style","border-width: 1px;").height(t.prop("scrollHeight"))}))})),$(window).on("load",(function(){var e,t=$("#page-search-input"),a=$("#page-search-reset"),s=$("#page-search-notify"),n=$("div#result-section"),r=$("div#result-container"),l="",o="",i=!1,c=[],d=!1;function h(e){e.length?1===e.length?s.html(messages.oneResult):s.html(messages.manyResults.replace("{0}",e.length)):s.html(messages.noResult),r.empty();var t={types:[],members:[],packages:[],modules:[],searchTags:[]};for(var a in e){var h=e[a];t[h.category].push(h)}if(o&&0!==t[o].length&&i||Object.keys(t).reduce((function(e,a){return t[a].length>0&&t[a][0].score>e?(o=a,t[a][0].score):e}),0),d&&o){s.html(messages.redirecting);var g=t[o][0];window.location=getURL(g.indexItem,g.category)}else{e.length>20&&"."===l[l.length-1]&&("types"===o&&t.members.length>t.types.length?o="members":"packages"===o&&t.types.length>t.packages.length&&(o="types"));var m=Object.keys(t).reduce((function(e,a){return e+(t[a].length>0?1:0)}),0);c=[];var v=$("<div class='table-tabs'></div>").appendTo(r);for(var b in t){b.replace("searchTags","search_tags");if(t[b].length){var f=t[b].length>=1e3?"999+":t[b].length;if(e.length>20&&m>1)$("<button id='result-tab-"+b+"' class='page-search-header'><span>"+categories[b]+"</span><span style='font-weight: normal'> ("+f+")</span></button>").appendTo(v).click(b,(function(e){i=!0,y(e.data,$(this))})),c.push(b);else $("<span class='page-search-header active-table-tab'>"+categories[b]+"<span style='font-weight: normal'> ("+f+")</span></span>").appendTo(v),p(b,t[b]).appendTo(r),v=$("<div class='table-tabs'></div>").appendTo(r)}}o&&e.length>20&&m>1&&($("button#result-tab-"+o).addClass("active-table-tab"),p(o,t[o]).appendTo(r)),n.show()}function y(e,a){o=e,u(),r.find("div.summary-table").remove(),p(o,t[o]).appendTo(r),a.siblings().removeClass("active-table-tab"),a.addClass("active-table-tab")}}function p(e,t){var a,s,n=$("<div class='summary-table'>").addClass("modules"===e?"one-column-search-results":"two-column-search-results");return"modules"===e?a="Module":"packages"===e?(a="Module",s="Package"):"types"===e?(a="Package",s="Class"):"members"===e?(a="Class",s="Member"):"searchTags"===e&&(a="Location",s="Name"),$("<div class='table-header col-plain'>"+a+"</div>").appendTo(n),"modules"!==e&&$("<div class='table-header col-plain'>"+s+"</div>").appendTo(n),$.each(t,(function(e,t){!function(e,t,a){var s=getHighlightedText(e.input,e.boundaries,e.prefix.length,e.input.length),n=$("<a/>").attr("href",getURL(e.indexItem,e.category)).attr("tabindex","0").addClass("search-result-link").html(s),r=getHighlightedText(e.input,e.boundaries,0,e.prefix.length-1);"searchTags"===e.category&&(r=e.indexItem.h||"");"modules"!==e.category&&$("<div/>").html(r).addClass("col-plain").addClass(a).appendTo(t);$("<div/>").html(n).addClass("col-last").addClass(a).appendTo(t)}(t,n,e%2?"odd-row-color":"even-row-color")})),n}function g(){u();var e=l=t.val().trim();""===e?(s.html(messages.enterTerm),o="",i=!1,r.empty(),n.hide()):(s.html(messages.searching),doSearch({term:e,maxResults:1200},h))}function u(){var e=t.val().trim(),a=document.location.pathname;e&&(a+="?q="+encodeURI(e),o&&i&&(a+="&c="+o)),history.replaceState({query:e},"",a)}t.on("input",(function(t){d=!1,e&&clearTimeout(e),e=setTimeout((function(){g()}),100)})),$(document).keydown((function(e){if((e.ctrlKey||e.metaKey)&&("ArrowLeft"===e.key||"ArrowRight"===e.key)&&o&&c.length>1){var t=c.indexOf(o);return t+="ArrowLeft"===e.key?c.length-1:1,a=c[t%c.length],$("button#result-tab-"+a).click(),!1}var a})),a.click((function(){s.html(messages.enterTerm),n.hide(),o="",i=!1,r.empty(),t.val("").focus(),u()})),t.prop("disabled",!1),a.prop("disabled",!1);var m=new URLSearchParams(window.location.search);m.has("q")&&t.val(m.get("q")),m.has("c")&&(o=m.get("c"),i=!0),m.get("r")&&(d=!0),t.val()?g():s.html(messages.enterTerm),t.select().focus()}));