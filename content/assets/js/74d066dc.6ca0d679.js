"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[50981],{48044:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>c,contentTitle:()=>h,default:()=>o,frontMatter:()=>l,metadata:()=>t,toc:()=>a});var r=s(74848),n=s(28453);const l={id:"pulsar-3.0.3",title:"Apache Pulsar 3.0.3",sidebar_label:"Apache Pulsar 3.0.3"},h=void 0,t={id:"versioned/pulsar-3.0.3",title:"Apache Pulsar 3.0.3",description:"2024-03-09",source:"@site/release-notes/versioned/pulsar-3.0.3.md",sourceDirName:"versioned",slug:"/versioned/pulsar-3.0.3",permalink:"/release-notes/versioned/pulsar-3.0.3",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-3.0.3.md",tags:[],version:"current",frontMatter:{id:"pulsar-3.0.3",title:"Apache Pulsar 3.0.3",sidebar_label:"Apache Pulsar 3.0.3"}},c={},a=[{value:"2024-03-09",id:"2024-03-09",level:4},{value:"Broker",id:"broker",level:3},{value:"Client",id:"client",level:3},{value:"CLI",id:"cli",level:3},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"Others",id:"others",level:3},{value:"Library updates",id:"library-updates",level:3}];function p(e){const i={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h4,{id:"2024-03-09",children:"2024-03-09"}),"\n",(0,r.jsx)(i.h3,{id:"broker",children:"Broker"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Consistently add fine-grain authorization to REST API ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22202",children:"22202"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Add fine-grain authorization to retention admin API ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22163",children:"22163"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Cache the internal writer when sent to system topic. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22099",children:"22099"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Add an error log to troubleshoot the failure of starting broker registry. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22065",children:"22065"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Do not retain the data in the system topic ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22022",children:"22022"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve] [broker] Do not try to open ML when the topic meta does not exist and do not expect to create a new one. #21995 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22004",children:"22004"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve] [broker] Do not print an Error log when responding to ",(0,r.jsx)(i.code,{children:"HTTP-404"})," when calling ",(0,r.jsx)(i.code,{children:"Admin API"})," and the topic does not exist. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21995",children:"21995"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Do not close the socket if lookup failed due to LockBusyException ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21993",children:"21993"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Don't rollover empty ledgers based on inactivity ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21893",children:"21893"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Improve NamespaceUnloadStrategy error message ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21880",children:"21880"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Skip loading the NAR packages if not configured ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21867",children:"21867"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] defer the ownership checks if the owner is inactive (ExtensibleLoadManager) ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21857",children:"21857"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] defer the ownership checks if the owner is inactive (ExtensibleLoadManager) ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21811",children:"21811"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] cleanup the empty subscriptionAuthenticationMap in zk when revoke subscription permission ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21696",children:"21696"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve] [broker] Let the producer request success at the first time if the previous one is inactive ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21220",children:"21220"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Avoid record inactiveproducers when deduplication is disable. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21193",children:"21193"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Support not retaining null-key message during topic compaction (#21578) ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21662",children:"21662"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker] Print recoverBucketSnapshot log if cursorProperties are empty ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21651",children:"21651"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][broker][PIP-318] Support not retaining null-key message during topic compaction ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21578",children:"21578"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] print non log when delete partitioned topic failed ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22153",children:"22153"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix broker not starting when both transactions and the Extensible Load Manager are enabled ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22139",children:"22139"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Return getOwnerAsync without waiting on source broker upon Assigning and Releasing and handle role change during role init ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22112",children:"22112"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] Enabling batch causes negative unackedMessages due to ack and delivery concurrency ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22090",children:"22090"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Support running docker container with gid != 0 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22081",children:"22081"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Set ServiceUnitStateChannel topic compaction threshold explicitly, improve getOwnerAsync, and fix other bugs ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22064",children:"22064"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix hash collision when using a consumer name that ends with a number ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22053",children:"22053"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Sanitize values before logging in apply-config-from-env.py script ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22044",children:"22044"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] Fix can not subscribe partitioned topic with a suffix-matched regexp ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22025",children:"22025"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] Subscription stuck due to called Admin API analyzeSubscriptionBacklog ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22019",children:"22019"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker][branch-3.1] Avoid PublishRateLimiter use an already closed RateLimiter ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22011",children:"22011"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] [branch-3.0] Fast fix infinite HTTP call createSubscriptions caused by wrong topicName ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21997",children:"21997"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker]Support setting ",(0,r.jsx)(i.code,{children:"autoSkipNonRecoverableData"})," dynamically in expiryMon\u2026 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21991",children:"21991"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] add timeout for health check read. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21990",children:"21990"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix schema deletion error when deleting a partitioned topic with many partitions and schema ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21977",children:"21977"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] Fix reader stuck when read from compacted topic with read compact mode disable ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21969",children:"21969"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] Replication stopped due to unload topic failed ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21947",children:"21947"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] Expire messages according to ledger close time to avoid client clock skew ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21940",children:"21940"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Restore the broker id to match the format used in existing Pulsar releases ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21937",children:"21937"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix getMessageById throws 500 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21919",children:"21919"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] fix write all compacted out entry into compacted topic ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21917",children:"21917"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix deadlock while skip non-recoverable ledgers. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21915",children:"21915"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix leader broker cannot be determined when the advertised address and advertised listeners are configured ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21894",children:"21894"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] Fix break change: could not subscribe partitioned topic with a suffix-matched regexp due to a mistake of PIP-145 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21885",children:"21885"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix compaction/replication data loss when expire messages ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21865",children:"21865"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker]Fix NonPersistentDispatcherMultipleConsumers ArrayIndexOutOfBoundsException ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21856",children:"21856"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix returns wrong webServiceUrl when both webServicePort and webServicePortTls are set ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21842",children:"21842"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix String wrong format ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21829",children:"21829"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] Update topic policies as much as possible when some ex was thrown ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21810",children:"21810"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix TableViewLoadDataStoreImpl NPE ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21777",children:"21777"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix the wrong value of BrokerSrevice.maxUnackedMsgsPerDispatcher ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21765",children:"21765"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fixed the ExtensibleLoadManagerImpl internal system getTopic failure when the leadership changes ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21764",children:"21764"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Delete compacted ledger when topic is deleted ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21745",children:"21745"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Skip topic auto-creation for ExtensibleLoadManager internal topics ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21729",children:"21729"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fixed ServiceUnitStateChannel monitor to tombstone only inactive bundle states ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21721",children:"21721"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Avoid compaction task stuck when the last message to compact is a marker ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21718",children:"21718"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix the issue of topics possibly being deleted. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21704",children:"21704"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix typo in the config key ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21690",children:"21690"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] network package lost if enable haProxyProtocolEnabled ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21684",children:"21684"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Record GeoPersistentReplicator.msgOut before producer#sendAsync ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21673",children:"21673"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix memory leak during topic compaction ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21647",children:"21647"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix lookupRequestSemaphore leak when topic not found ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21646",children:"21646"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix returns wrong webServiceUrl when both webServicePort and webServicePortTls are set ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21633",children:"21633"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fixed getting incorrect KeyValue schema version ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21632",children:"21632"}),"\n(",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21620",children:"https://github.com/apache/pulsar/pull/21620"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] Delete topic timeout due to NPE ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21595",children:"21595"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix incorrect unack count when using shared subscription on non-persistent topic ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21592",children:"21592"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Duplicate LedgerOffloader creation when namespace/topic\u2026 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21591",children:"21591"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Correct schema deletion for partitioned topic ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21574",children:"21574"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix setReplicatedSubscriptionStatus incorrect behavior ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21510",children:"21510"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Do not write replicated snapshot marker when the topic which is not enable replication ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21495",children:"21495"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix issue with consumer read uncommitted messages from compacted topic ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21465",children:"21465"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix resource_quota_zpath ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21461",children:"21461"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Fix MultiRoles token provider NPE when using anonymous clients ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21429",children:"21429"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] Avoid consumers receiving acknowledged messages from compacted topic after reconnection ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21187",children:"21187"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [broker] Make the new exclusive consumer instead the inactive one faster ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21183",children:"21183"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker]  Fix PulsarService.getLookupServiceAddress returns wrong port if TLS is enabled ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21015",children:"21015"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][broker] fix ",(0,r.jsx)(i.code,{children:"Update contains no change"})," error when use ",(0,r.jsx)(i.code,{children:"--update-auth-data"})," flag to update  function/sink/source ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/19450",children:"19450"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve] [proxy] Add a check for brokerServiceURL that does not support multi uri yet ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21972",children:"21972"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][proxy] Fix comment about enableProxyStatsEndpoints ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21757",children:"21757"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][proxy] When adding new brokers resolve the DNS name more quickly ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21207",children:"21207"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][txn]Fix TopicTransactionBuffer potential thread safety issue ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22149",children:"22149"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [txn] Get previous position by managed ledger. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22024",children:"22024"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][txn] Ack all message ids when ack chunk messages with transaction. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21268",children:"21268"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][txn] Fix getting last message ID when there are ongoing transactions ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21466",children:"21466"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [ml] Fix retry mechanism of deleting ledgers to invalidate ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21869",children:"21869"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][ml] Make mlOwnershipChecker asynchronous so that it doesn't block/deadlock threads ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21333",children:"21333"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[improve][ml] Filter out deleted entries before read entries from ledger. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21739",children:"21739"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][offload] Fix Offload readHandle cannot close multi times. ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22162",children:"22162"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][offload] Don't cleanup data when offload met MetaStore exception ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21686",children:"21686"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [ci] [branch-3.0] Fix the build issue from cherry-pick ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22042",children:"22042"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix][sec] Add a check for the input time value ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22023",children:"22023"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["[fix] [log] fix the vague response if topic not found ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/20932",children:"20932"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"client",children:"Client"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["[fix] [client] fix huge permits if acked a half batched message ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22091",children:"22091"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix] [client] Do no retrying for error subscription not found when disabled allowAutoSubscriptionCreation ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22078",children:"22078"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client] Fix ConsumerBuilderImpl#subscribe silent stuck when using pulsar-client:3.0.x with jackson-annotations prior to 2.12.0 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21985",children:"21985"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client] Fix multi-topics consumer could receive old messages after seek ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21945",children:"21945"})]}),"\n",(0,r.jsxs)(i.li,{children:["[cleanup][client] Fix inconsistent API annotations of ",(0,r.jsx)(i.code,{children:"getTopicName"})," [21620]"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client] fix negative message re-delivery twice issue ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/20750",children:"20750"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client] Fix messages in the batch container timed out unexpectedly ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21889",children:"21889"})]}),"\n",(0,r.jsxs)(i.li,{children:["[improve] [client] Prevent reserve memory with a negative memory size to avoid send task stuck ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21804",children:"21804"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client] Fix producer thread block forever on memory limit controller ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21790",children:"21790"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix] [client] Messages lost due to TopicListWatcher reconnect ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21853",children:"21853"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"cli",children:"CLI"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["[fix][admin] Fix KeyValue schema compatibility check caused OOM ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21645",children:"21645"})]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][admin] Add clusters check when set replication clusters ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21650",children:"21650"}),"-"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"pulsar-io-and-pulsar-functions",children:"Pulsar IO and Pulsar Functions"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:['[improve][fn] Add missing "exception" argument to some ',(0,r.jsx)(i.code,{children:"log.error"})," ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22140",children:"22140"})]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][fn] Optimize Function Worker startup by lazy loading and direct zip/bytecode access ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22122",children:"22122"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][fn] Fix Deadlock in Functions Worker LeaderService ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21711",children:"21711"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][fn] Use unified PackageManagement service to download packages ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21955",children:"21955"})]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][io] Make connectors load sensitive fields from secrets ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21675",children:"21675"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"others",children:"Others"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["[fix][test] Fix test testAsyncFunctionMaxPending ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22121",children:"22121"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test] fix test testSyncNormalPositionWhenTBRecover ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22120",children:"22120"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test] Fix test testTransactionBufferMetrics ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22117",children:"22117"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test] Fix PerformanceProducer send count error ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21706",children:"21706"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test] ProxyWithoutServiceDiscoveryTest should enable authz ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/20348",children:"20348"})]}),"\n",(0,r.jsxs)(i.li,{children:["[cleanup] Consolidate certs used in tests ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/20336",children:"20336"})]}),"\n",(0,r.jsxs)(i.li,{children:["[cleanup] Deduplicate test certificates to simplify management ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/20289",children:"20289"})]}),"\n",(0,r.jsxs)(i.li,{children:["[cleanup] Consolidate certs in broker (and some proxy) tests ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/20353",children:"20353"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test] Make base test class method protected so that it passes ReportUnannotatedMethods validation ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21976",children:"21976"})]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][build] Add a default username in the image ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21695",children:"21695"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][build] Fix Stage Docker images fail on M1 Mac ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21659",children:"21659"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"library-updates",children:"Library updates"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["[fix][sec] Upgrade Jetty to 9.4.54.v20240208 to address CVE-2024-22201 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22144",children:"22144"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][sec] Upgrade rabbitmq client to address CVE-2023-46120 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21619",children:"21619"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][sec] Upgrade commons-compress to 1.26.0 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22086",children:"22086"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][sec] Exclude avro from hadoop-client ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21719",children:"21719"})]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][ci] Upgrade pulsar-client-python to 3.4.0 to avoid CVE-2023-1428 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21899",children:"21899"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][sec] Upgrade org.bouncycastle",":bc-fips"," to 1.0.2.4 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21730",children:"21730"})]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][build] Upgrade Apache ZooKeeper to 3.9.1 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/20933",children:"20933"})]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][sec] Upgrade snappy-java to 1.1.10.5 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21280",children:"21280"})]}),"\n",(0,r.jsxs)(i.li,{children:["[improve] [bk] Upgrade BookKeeper dependency to 4.16.4 ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21983",children:"21983"})]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["For the complete list, check the ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pulls?q=is%3Apr+label%3Arelease%2F3.0.3+",children:"Pulsar 3.0.3 changelog"}),"."]})]})}function o(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,i,s)=>{s.d(i,{R:()=>h,x:()=>t});var r=s(96540);const n={},l=r.createContext(n);function h(e){const i=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:h(e.components),r.createElement(l.Provider,{value:i},e.children)}}}]);