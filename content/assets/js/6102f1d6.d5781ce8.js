"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[54035],{15680:(e,t,r)=>{r.d(t,{xA:()=>p,yg:()=>g});var n=r(96540);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=u(r),d=a,g=c["".concat(l,".").concat(d)]||c[d]||m[d]||o;return r?n.createElement(g,s(s({ref:t},p),{},{components:r})):n.createElement(g,s({ref:t},p))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,s=new Array(o);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[c]="string"==typeof e?e:a,s[1]=i;for(var u=2;u<o;u++)s[u]=r[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},29122:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>u});var n=r(58168),a=(r(96540),r(15680));const o={id:"deploy-monitoring",title:"Monitor",sidebar_label:"Monitoring"},s=void 0,i={unversionedId:"deploy-monitoring",id:"deploy-monitoring",title:"Monitor",description:"You can use different ways to monitor a Pulsar cluster, exposing both metrics related to the usage of topics and the overall health of the individual components of the cluster.",source:"@site/docs/deploy-monitoring.md",sourceDirName:".",slug:"/deploy-monitoring",permalink:"/docs/next/deploy-monitoring",draft:!1,editUrl:"https://github.com/apache/pulsar-site/edit/main/docs/deploy-monitoring.md",tags:[],version:"current",frontMatter:{id:"deploy-monitoring",title:"Monitor",sidebar_label:"Monitoring"},sidebar:"docsSidebar",previous:{title:"Metrics",permalink:"/docs/next/reference-metrics"},next:{title:"OpenTelemetry Metrics",permalink:"/docs/next/reference-metrics-opentelemetry"}},l={},u=[{value:"Collect metrics",id:"collect-metrics",level:2},{value:"Broker stats",id:"broker-stats",level:3},{value:"ZooKeeper stats",id:"zookeeper-stats",level:3},{value:"BookKeeper stats",id:"bookkeeper-stats",level:3},{value:"Managed cursor acknowledgment state",id:"managed-cursor-acknowledgment-state",level:3},{value:"Function and connector stats",id:"function-and-connector-stats",level:3},{value:"Configure Prometheus",id:"configure-prometheus",level:2},{value:"Dashboards",id:"dashboards",level:2},{value:"Pulsar per-topic dashboard",id:"pulsar-per-topic-dashboard",level:3},{value:"Grafana",id:"grafana",level:3},{value:"Alerting rules",id:"alerting-rules",level:2},{value:"OpenTelemetry",id:"opentelemetry",level:2},{value:"Status",id:"status",level:3},{value:"Scope",id:"scope",level:3},{value:"OpenTelemetry Configuration",id:"opentelemetry-configuration",level:3},{value:"Telemetry Enablement",id:"telemetry-enablement",level:4},{value:"Exporter Configuration",id:"exporter-configuration",level:4},{value:"OTLP",id:"otlp",level:5},{value:"Remote Collector Considerations",id:"remote-collector-considerations",level:6},{value:"Prometheus",id:"prometheus",level:5},{value:"Resource Attributes Configuration",id:"resource-attributes-configuration",level:4},{value:"Attribute Cardinality Configuration",id:"attribute-cardinality-configuration",level:4}],p={toc:u},c="wrapper";function m(e){let{components:t,...r}=e;return(0,a.yg)(c,(0,n.A)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"You can use different ways to monitor a Pulsar cluster, exposing both metrics related to the usage of topics and the overall health of the individual components of the cluster."),(0,a.yg)("h2",{id:"collect-metrics"},"Collect metrics"),(0,a.yg)("p",null,"You can collect broker stats, ZooKeeper stats, and BookKeeper stats."),(0,a.yg)("h3",{id:"broker-stats"},"Broker stats"),(0,a.yg)("p",null,"You can collect Pulsar broker metrics from brokers and export the metrics in JSON format. The Pulsar broker metrics mainly have two types:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("em",{parentName:"p"},"Destination dumps"),", which contain stats for each topic. You can fetch the destination dumps using the command below:"),(0,a.yg)("pre",{parentName:"li"},(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"bin/pulsar-admin broker-stats destinations\n"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Broker metrics, which contain the broker information and topics stats aggregated at the namespace level. You can fetch the broker metrics by using the following command:"),(0,a.yg)("pre",{parentName:"li"},(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"bin/pulsar-admin broker-stats monitoring-metrics\n")))),(0,a.yg)("p",null,"All the message rates are updated every minute."),(0,a.yg)("p",null,"The aggregated broker metrics are also exposed in the ",(0,a.yg)("a",{parentName:"p",href:"https://prometheus.io"},"Prometheus")," format at:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"http://$BROKER_ADDRESS:8080/metrics/\n")),(0,a.yg)("h3",{id:"zookeeper-stats"},"ZooKeeper stats"),(0,a.yg)("p",null,"The local ZooKeeper, configuration store server and clients that are shipped with Pulsar can expose detailed stats through Prometheus."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"http://$LOCAL_ZK_SERVER:8000/metrics\nhttp://$GLOBAL_ZK_SERVER:8001/metrics\n")),(0,a.yg)("p",null,"The default port of local ZooKeeper is ",(0,a.yg)("inlineCode",{parentName:"p"},"8000")," and the default port of the configuration store is ",(0,a.yg)("inlineCode",{parentName:"p"},"8001"),". You can use a different stats port by configuring ",(0,a.yg)("inlineCode",{parentName:"p"},"metricsProvider.httpPort")," in the ",(0,a.yg)("inlineCode",{parentName:"p"},"conf/zookeeper.conf")," file."),(0,a.yg)("h3",{id:"bookkeeper-stats"},"BookKeeper stats"),(0,a.yg)("p",null,"You can configure the stats frameworks for BookKeeper by modifying the ",(0,a.yg)("inlineCode",{parentName:"p"},"statsProviderClass")," in the ",(0,a.yg)("inlineCode",{parentName:"p"},"conf/bookkeeper.conf")," file."),(0,a.yg)("p",null,"The default BookKeeper configuration enables the Prometheus exporter. The configuration is included with Pulsar distribution."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"http://$BOOKIE_ADDRESS:8000/metrics\n")),(0,a.yg)("p",null,"The default port for bookie is ",(0,a.yg)("inlineCode",{parentName:"p"},"8000"),". You can change the port by configuring ",(0,a.yg)("inlineCode",{parentName:"p"},"prometheusStatsHttpPort")," in the ",(0,a.yg)("inlineCode",{parentName:"p"},"conf/bookkeeper.conf")," file."),(0,a.yg)("h3",{id:"managed-cursor-acknowledgment-state"},"Managed cursor acknowledgment state"),(0,a.yg)("p",null,"The acknowledgment state is persistent to the ledger first. When the acknowledgment state fails to be persistent to the ledger, they are persistent to ZooKeeper. To track the stats of acknowledgment, you can configure the metrics for the managed cursor."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'pulsar_ml_cursor_persistLedgerSucceed(namespace=", ledger_name="", cursor_name:")\npulsar_ml_cursor_persistLedgerErrors(namespace="", ledger_name="", cursor_name:"")\npulsar_ml_cursor_persistZookeeperSucceed(namespace="", ledger_name="", cursor_name:"")\npulsar_ml_cursor_persistZookeeperErrors(namespace="", ledger_name="", cursor_name:"")\npulsar_ml_cursor_nonContiguousDeletedMessagesRange(namespace="", ledger_name="", cursor_name:"")\n')),(0,a.yg)("p",null,"Those metrics are added in the Prometheus interface, you can monitor and check the metrics stats in Grafana."),(0,a.yg)("h3",{id:"function-and-connector-stats"},"Function and connector stats"),(0,a.yg)("p",null,"You can collect functions worker stats from ",(0,a.yg)("inlineCode",{parentName:"p"},"functions-worker")," and export the metrics in JSON formats, which contain functions worker JVM metrics."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"pulsar-admin functions-worker monitoring-metrics\n")),(0,a.yg)("p",null,"You can collect functions and connectors metrics from ",(0,a.yg)("inlineCode",{parentName:"p"},"functions-worker")," and export the metrics in JSON formats."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"pulsar-admin functions-worker function-stats\n")),(0,a.yg)("p",null,"The aggregated functions and connectors metrics can be exposed in Prometheus formats as below. You can get ",(0,a.yg)("a",{parentName:"p",href:"/docs/next/functions-worker"},(0,a.yg)("inlineCode",{parentName:"a"},"FUNCTIONS_WORKER_ADDRESS"))," and ",(0,a.yg)("inlineCode",{parentName:"p"},"WORKER_PORT")," from the ",(0,a.yg)("inlineCode",{parentName:"p"},"functions_worker.yml")," file."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"http://$FUNCTIONS_WORKER_ADDRESS:$WORKER_PORT/metrics:\n")),(0,a.yg)("h2",{id:"configure-prometheus"},"Configure Prometheus"),(0,a.yg)("p",null,"You can use Prometheus to collect all the metrics exposed for Pulsar components and set up ",(0,a.yg)("a",{parentName:"p",href:"https://grafana.com/"},"Grafana")," dashboards to display the metrics and monitor your Pulsar cluster. For details, refer to ",(0,a.yg)("a",{parentName:"p",href:"https://prometheus.io/docs/introduction/getting_started/"},"Prometheus guide"),"."),(0,a.yg)("p",null,"When you run Pulsar on bare metal, you can provide the list of nodes to be probed. When you deploy Pulsar in a Kubernetes cluster, the monitoring is set up automatically. For details, refer to ",(0,a.yg)("a",{parentName:"p",href:"/docs/next/helm-deploy"},"Kubernetes instructions"),"."),(0,a.yg)("h2",{id:"dashboards"},"Dashboards"),(0,a.yg)("p",null,"When you collect time-series statistics, the major problem is to make sure the number of dimensions attached to the data does not explode. Thus you only need to collect time series of metrics aggregated at the namespace level."),(0,a.yg)("h3",{id:"pulsar-per-topic-dashboard"},"Pulsar per-topic dashboard"),(0,a.yg)("p",null,"The per-topic dashboard instructions are available at ",(0,a.yg)("a",{parentName:"p",href:"/docs/next/administration-pulsar-manager"},"Pulsar manager"),"."),(0,a.yg)("h3",{id:"grafana"},"Grafana"),(0,a.yg)("p",null,"You can use Grafana to create a dashboard driven by the data that is stored in Prometheus."),(0,a.yg)("p",null,"When you deploy Pulsar on Kubernetes with the Pulsar Helm Chart, a ",(0,a.yg)("inlineCode",{parentName:"p"},"pulsar-grafana")," Docker image is enabled by default. You can use the docker image with the principal dashboards."),(0,a.yg)("p",null,"The following are some Grafana dashboards examples:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"/docs/next/deploy-monitoring#grafana"},"pulsar-grafana"),": a Grafana dashboard that displays metrics collected in Prometheus for Pulsar clusters running on Kubernetes."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/streamnative/apache-pulsar-grafana-dashboard"},"apache-pulsar-grafana-dashboard"),": a collection of Grafana dashboard templates for different Pulsar components running on both Kubernetes and on-premise machines.")),(0,a.yg)("h2",{id:"alerting-rules"},"Alerting rules"),(0,a.yg)("p",null,"You can set alerting rules according to your Pulsar environment. To configure alerting rules for Apache Pulsar, refer to ",(0,a.yg)("a",{parentName:"p",href:"https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/"},"alerting rules"),"."),(0,a.yg)("h2",{id:"opentelemetry"},"OpenTelemetry"),(0,a.yg)("h3",{id:"status"},"Status"),(0,a.yg)("p",null,"Pulsar emits OpenTelemetry metrics starting from version 3.3.0. OpenTelemetry log and trace signals are not exposed by\nPulsar. OpenTelemetry support is currently ",(0,a.yg)("strong",{parentName:"p"},"experimental")," and complements the pre-existing Prometheus metric system,\nwith the goal of eventually replacing it. The metrics it exposes are semantically equivalent to the Prometheus metrics."),(0,a.yg)("p",null,"For a detailed list of OpenTelemetry metrics exposed by Pulsar, refer to ",(0,a.yg)("a",{parentName:"p",href:"/docs/next/reference-metrics-opentelemetry"},"OpenTelemetry Metrics"),"."),(0,a.yg)("h3",{id:"scope"},"Scope"),(0,a.yg)("p",null,"Pulsar OpenTelemetry metrics are gradually being added for the broker only. Support for the proxy and function worker is\nplanned for a future release."),(0,a.yg)("h3",{id:"opentelemetry-configuration"},"OpenTelemetry Configuration"),(0,a.yg)("p",null,"Pulsar natively supports OpenTelemetry via manual instrumentation, instead of relying on the OpenTelemetry automatic\ninstrumentation agent. Pulsar uses the auto-configuration ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md"},"extension"),"\nof OpenTelemetry to manage the SDK configuration. The extension allows parameter input from environment variables and\nJava system properties. The instructions below rely on environment variables, but can be adapted to use system\nproperties too. These variables must be exposed to the Pulsar process via the respective deployment method."),(0,a.yg)("p",null,"Note that the experimental ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#file-configuration"},"file based configuration"),"\nis not currently supported by Pulsar."),(0,a.yg)("h4",{id:"telemetry-enablement"},"Telemetry Enablement"),(0,a.yg)("p",null,"The experimental OpenTelemetry feature is explicitly disabled by default in Pulsar. Set environment variable\n",(0,a.yg)("inlineCode",{parentName:"p"},"OTEL_SDK_DISABLED=false")," to enable the SDK. When disabled, metrics will not be collected nor exported."),(0,a.yg)("h4",{id:"exporter-configuration"},"Exporter Configuration"),(0,a.yg)("p",null,"Exporters using the native OpenTelemetry Protocol and Prometheus are included in the Pulsar distribution assembly by\ndefault and can be used out-of-the-box. Other exporters are not currently supported."),(0,a.yg)("h5",{id:"otlp"},"OTLP"),(0,a.yg)("p",null,"The native OTLP exporter is the recommended way to obtain metrics out of Pulsar as the Apache Pulsar community is\nworking on modifying it (and not Prometheus) to be highly performant. Pulsar defaults to using the OTLP exporter unless\notherwise overridden by environment variable ",(0,a.yg)("inlineCode",{parentName:"p"},"OTEL_METRICS_EXPORTER"),"."),(0,a.yg)("p",null,"To use the exporter, set environment variable ",(0,a.yg)("inlineCode",{parentName:"p"},"OTEL_EXPORTER_OTLP_ENDPOINT")," to the respective URL endpoint. This should\nrepresent the location of the OpenTelemetry ",(0,a.yg)("a",{parentName:"p",href:"https://opentelemetry.io/docs/collector/"},"Collector"),". Pulsar supports both\ngRPC and HTTP endpoints."),(0,a.yg)("p",null,"The exporter periodically collects and sends metrics. This process occurs every 60 seconds by default, and can be\ncontrolled by changing environment variable ",(0,a.yg)("inlineCode",{parentName:"p"},"OTEL_METRIC_EXPORT_INTERVAL"),"."),(0,a.yg)("p",null,"Additional parameters that can be configured, such as authentication, compression, and timeout, are described in the\nexporter ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#otlp-exporter-span-metric-and-log-exporters"},"documentation"),"."),(0,a.yg)("h6",{id:"remote-collector-considerations"},"Remote Collector Considerations"),(0,a.yg)("p",null,"If the remote OTLP collector sends data downstream to Prometheus or a Prometheus like-system, it is recommended to copy\nOpenTelemetry resource attribute ",(0,a.yg)("inlineCode",{parentName:"p"},"pulsar.cluster")," to Prometheus labels on each time-series (metric). This can be done\nusing ",(0,a.yg)("a",{parentName:"p",href:"https://opentelemetry.io/docs/collector/transforming-telemetry/"},"collector transformations"),"."),(0,a.yg)("p",null,"The example below leverages the ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/pkg/ottl"},"OpenTelemetry Transformation Language"),"\nand the ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/transformprocessor"},"transform processor"),"\nto achieve this."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'metrics:\n  set(attributes["pulsar_cluster"], resource.attributes["pulsar.cluster"])\n')),(0,a.yg)("h5",{id:"prometheus"},"Prometheus"),(0,a.yg)("p",null,"Pulsar supports exporting OpenTelemetry metrics in Prometheus format. This exporter is pull based and operates by\nopening up a server in the local Pulsar process. To use it, set ",(0,a.yg)("inlineCode",{parentName:"p"},"OTEL_METRICS_EXPORTER=prometheus")," and the Prometheus\nlistener details using the following environment variables:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"OTEL_EXPORTER_PROMETHEUS_HOST\nOTEL_EXPORTER_PROMETHEUS_PORT\n")),(0,a.yg)("p",null,"This endpoint must be accessible by the remote Prometheus scrape server. Note that the exporter is less resource\nefficient than the OTLP exporter."),(0,a.yg)("p",null,"Prometheus currently exports the resource attributes in metric ",(0,a.yg)("inlineCode",{parentName:"p"},"target_info"),". In practice, if you have more than one\ncluster, it forces you to use PromQL joins to obtain the cluster ID label."),(0,a.yg)("p",null,"The Pulsar community has added the option to the OpenTelemetry Java SDK Prometheus Exporter to embed (copy) the cluster\nID label (",(0,a.yg)("inlineCode",{parentName:"p"},"pulsar.cluster"),") to each outgoing time series labels. Once this is finalized it will be added by default into\nPulsar."),(0,a.yg)("p",null,"For further configuration details, refer to the exporter\n",(0,a.yg)("a",{parentName:"p",href:"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#prometheus-exporter"},"documentation"),"."),(0,a.yg)("h4",{id:"resource-attributes-configuration"},"Resource Attributes Configuration"),(0,a.yg)("p",null,"Pulsar automatically sets the following resource attributes:"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Attribute"),(0,a.yg)("th",{parentName:"tr",align:null},"Description"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"pulsar.cluster")),(0,a.yg)("td",{parentName:"tr",align:null},"The name of the Pulsar cluster.")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"service.name")),(0,a.yg)("td",{parentName:"tr",align:null},"The name of the Pulsar service. For the broker, this defaults to ",(0,a.yg)("inlineCode",{parentName:"td"},"pulsar-broker"),".")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"service.version")),(0,a.yg)("td",{parentName:"tr",align:null},"The version of the Pulsar service.")))),(0,a.yg)("p",null,"Any of these attributes can be overridden by means of environment variable ",(0,a.yg)("inlineCode",{parentName:"p"},"OTEL_RESOURCE_ATTRIBUTES"),". Additional\nattributes can be added too. For example:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"OTEL_RESOURCE_ATTRIBUTES=pulsar.cluster=my-cluster,service.name=my-broker,service.version=1.0.0,custom.attr=custom-value\n")),(0,a.yg)("p",null,"For further details on configuring resource attributes, refer to the SDK ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure#opentelemetry-resource-attributes"},"documentation"),"."),(0,a.yg)("p",null,"Additional runtime resource attributes, such as hostname, process ID, or operating system, are automatically inferred by\nthe SDK using Resource Providers. For a description of these attributes, refer to the respective ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/resources/library"},"documentation"),".\nFurther details regarding the configuration of Resource Providers can be obtained via the ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure#resource-provider-spi"},"documentation"),"."),(0,a.yg)("h4",{id:"attribute-cardinality-configuration"},"Attribute Cardinality Configuration"),(0,a.yg)("p",null,"OpenTelemetry provides an experimental mechanism to control the maximum cardinality of attributes. This is useful for\nlimiting the resource usage of the exporter. Pulsar sets the value to 10000 attributes by default. For brokers with a\nlarge number of topics, this can prove insufficient. The value is controlled by environment variable\n",(0,a.yg)("inlineCode",{parentName:"p"},"OTEL_EXPERIMENTAL_METRICS_CARDINALITY_LIMIT"),"."))}m.isMDXComponent=!0}}]);