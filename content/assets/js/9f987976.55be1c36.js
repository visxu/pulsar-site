"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[40474],{15680:(e,a,p)=>{p.d(a,{xA:()=>m,yg:()=>c});var t=p(96540);function r(e,a,p){return a in e?Object.defineProperty(e,a,{value:p,enumerable:!0,configurable:!0,writable:!0}):e[a]=p,e}function l(e,a){var p=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),p.push.apply(p,t)}return p}function i(e){for(var a=1;a<arguments.length;a++){var p=null!=arguments[a]?arguments[a]:{};a%2?l(Object(p),!0).forEach((function(a){r(e,a,p[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(p)):l(Object(p)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(p,a))}))}return e}function n(e,a){if(null==e)return{};var p,t,r=function(e,a){if(null==e)return{};var p,t,r={},l=Object.keys(e);for(t=0;t<l.length;t++)p=l[t],a.indexOf(p)>=0||(r[p]=e[p]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)p=l[t],a.indexOf(p)>=0||Object.prototype.propertyIsEnumerable.call(e,p)&&(r[p]=e[p])}return r}var o=t.createContext({}),u=function(e){var a=t.useContext(o),p=a;return e&&(p="function"==typeof e?e(a):i(i({},a),e)),p},m=function(e){var a=u(e.components);return t.createElement(o.Provider,{value:a},e.children)},s="mdxType",h={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},g=t.forwardRef((function(e,a){var p=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,m=n(e,["components","mdxType","originalType","parentName"]),s=u(p),g=r,c=s["".concat(o,".").concat(g)]||s[g]||h[g]||l;return p?t.createElement(c,i(i({ref:a},m),{},{components:p})):t.createElement(c,i({ref:a},m))}));function c(e,a){var p=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=p.length,i=new Array(l);i[0]=g;var n={};for(var o in a)hasOwnProperty.call(a,o)&&(n[o]=a[o]);n.originalType=e,n[s]="string"==typeof e?e:r,i[1]=n;for(var u=2;u<l;u++)i[u]=p[u];return t.createElement.apply(null,i)}return t.createElement.apply(null,p)}g.displayName="MDXCreateElement"},2421:(e,a,p)=>{p.r(a),p.d(a,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>u});var t=p(58168),r=(p(96540),p(15680));const l={id:"pulsar-4.0.0",title:"Apache Pulsar 4.0.0",sidebar_label:"Apache Pulsar 4.0.0"},i=void 0,n={unversionedId:"versioned/pulsar-4.0.0",id:"versioned/pulsar-4.0.0",title:"Apache Pulsar 4.0.0",description:"2024-10-21",source:"@site/release-notes/versioned/pulsar-4.0.0.md",sourceDirName:"versioned",slug:"/versioned/pulsar-4.0.0",permalink:"/release-notes/versioned/pulsar-4.0.0",draft:!1,editUrl:"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-4.0.0.md",tags:[],version:"current",frontMatter:{id:"pulsar-4.0.0",title:"Apache Pulsar 4.0.0",sidebar_label:"Apache Pulsar 4.0.0"}},o={},u=[{value:"2024-10-21",id:"2024-10-21",level:4},{value:"PIPs accepted since 3.0.0 release",id:"pips-accepted-since-300-release",level:3},{value:"PIPs accepted in 4.0.0 release",id:"pips-accepted-in-400-release",level:4},{value:"PIPs accepted in 3.3.0 release",id:"pips-accepted-in-330-release",level:4},{value:"PIPs accepted in 3.2.0 release",id:"pips-accepted-in-320-release",level:4},{value:"PIPs accepted in 3.1.0 release",id:"pips-accepted-in-310-release",level:4},{value:"Library updates and dependency changes",id:"library-updates-and-dependency-changes",level:3},{value:"Broker",id:"broker",level:3},{value:"Observability",id:"observability",level:3},{value:"Client",id:"client",level:3},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"Others",id:"others",level:3},{value:"Tests, Build &amp; CI",id:"tests-build--ci",level:3}],m={toc:u},s="wrapper";function h(e){let{components:a,...p}=e;return(0,r.yg)(s,(0,t.A)({},m,p,{components:a,mdxType:"MDXLayout"}),(0,r.yg)("h4",{id:"2024-10-21"},"2024-10-21"),(0,r.yg)("p",null,"Changes in 4.0.0 release since 3.3.0 release preparation was started.\nFor the complete list, check the ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/compare/188355b...v4.0.0"},"full changelog")," and ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pulls?q=is%3Apr+is%3Amerged+milestone%3A4.0.0+sort%3Acreated-asc"},"full PR list"),"."),(0,r.yg)("h3",{id:"pips-accepted-since-300-release"},"PIPs accepted since 3.0.0 release"),(0,r.yg)("h4",{id:"pips-accepted-in-400-release"},"PIPs accepted in 4.0.0 release"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-327.md"},"PIP-327"),": Support force topic loading for unrecoverable errors (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21752"},"#21752"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-337.md"},"PIP-337"),": SSL Factory Plugin to customize SSL Context and SSL Engine generation (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22016"},"#22016"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-347.md"},"PIP-347"),": add role field in consumer's stat (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22564"},"#22564"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-348.md"},"PIP-348"),": Trigger offload on topic load stage (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22650"},"#22650"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-349.md"},"PIP-349"),": Add additionalSystemCursorNames ignore list for TTL check (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22651"},"#22651"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-350.md"},"PIP-350"),": Allow to disable the managedLedgerOffloadDeletionLagInMillis (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22688"},"#22688"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-351.md"},"PIP-351"),": Additional options for Pulsar-Test client to support KeyStore based TLS (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22694"},"#22694"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-352.md"},"PIP-352"),": Event time based topic compactor (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22710"},"#22710"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-353.md"},"PIP-353"),": Improve transaction message visibility for peek-messages (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22746"},"#22746"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-354.md"},"PIP-354"),": apply topK mechanism to ModularLoadManagerImpl (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22765"},"#22765"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-355.md"},"PIP-355"),": Enhancing Broker-Level Metrics for Pulsar (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22778"},"#22778"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-356.md"},"PIP-356"),": Support Geo-Replication starts at earliest position (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22806"},"#22806"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-357.md"},"PIP-357"),": Correct the conf name in load balance module. (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22823"},"#22823"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-358.md"},"PIP-358"),": let resource weight work for OverloadShedder, LeastLongTermMessageRate, ModularLoadManagerImpl. (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22889"},"#22889"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-359.md"},"PIP-359"),": Support custom message listener executor for specific subscription (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22902"},"#22902"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-360.md"},"PIP-360"),": Add admin API to display Schema metadata (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22913"},"#22913"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-363.md"},"PIP-363"),": Add callback parameters to the method: org.apache.pulsar.client.impl.SendCallback.sendComplete. (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22940"},"#22940"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-364.md"},"PIP-364"),": Introduce a new load balance algorithm AvgShedder (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22946"},"#22946"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-366.md"},"PIP-366"),": Support to specify different config for Configuration and Local Metadata Store (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23033"},"#23033"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-367.md"},"PIP-367"),": Propose a Contributor Repository for Pulsar (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23061"},"#23061"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-368.md"},"PIP-368"),": Support lookup based on the lookup properties (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23075"},"#23075"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-369.md"},"PIP-369"),": Flag based selective unload on changing ns-isolation-policy  (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23116"},"#23116"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-370.md"},"PIP-370"),": configurable remote topic creation in geo-replication (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23124"},"#23124"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-374.md"},"PIP-374"),": Visibility of messages in receiverQueue for the consumers (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23235"},"#23235"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-376-Topic-Policies-Service-Pluggable.md"},"PIP-376"),": Make topic policies service pluggable (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23248"},"#23248"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-378.md"},"PIP-378"),": Add ServiceUnitStateTableView abstraction (ExtensibleLoadMangerImpl only) (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23300"},"#23300"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-379.md"},"PIP-379"),": Key_Shared Draining Hashes for Improved Message Ordering (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23309"},"#23309"),")",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://pulsar.apache.org/docs/4.0.x/concepts-messaging/#preserving-order-of-message-delivery-by-key"},"Documentation: Preserving order of message delivery by key")))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-381-large-positioninfo.md"},"PIP-381"),": Handle large PositionInfo state (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23328"},"#23328"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-383.md"},"PIP-383"),": Support granting/revoking permissions for multiple topics (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23355"},"#23355"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-384.md"},"PIP-384"),": ManagedLedger interface decoupling (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23363"},"#23363"),")")),(0,r.yg)("h4",{id:"pips-accepted-in-330-release"},"PIPs accepted in 3.3.0 release"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-315.md"},"PIP-315"),": Configurable max delay limit for delayed delivery (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21798"},"#","21798"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-321.md"},"PIP-321"),": Introduce allowed-cluster at the namespace level (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21648"},"#","21648"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-324-Alpine%20Docker%20images.md"},"PIP-324"),": Alpine Docker images (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21716"},"#","21716"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-325.md"},"PIP-325"),": Add command to abort transaction (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21731"},"#","21731"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-326.md"},"PIP-326"),": Create a BOM to ease dependency management (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21747"},"#","21747"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-329.md"},"PIP-329"),": Strategy for maintaining the latest tag to Pulsar docker images (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21872"},"#","21872"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-330.md"},"PIP-330"),": getMessagesById gets all messages (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21873"},"#","21873"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-342%20OTel%20client%20metrics%20support.md"},"PIP-342"),": Support OpenTelemetry metrics in Pulsar client (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22178"},"#","22178"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-343.md"},"PIP-343"),": Use picocli instead of jcommander (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22181"},"#","22181"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-344.md"},"PIP-344"),": Correct the behavior of the public API pulsarClient.getPartitionsForTopic(topicName) (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22182"},"#","22182"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-335%20Oxia%20metadata%20plugin.md"},"PIP-335"),": Oxia metadata plugin (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22009"},"#","22009"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-339.md"},"PIP-339"),": Introducing the ","-","-log-topic Option for Pulsar Sinks and Sources (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22071"},"#","22071"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-282.md"},"PIP-282"),": Change definition of the recently joined consumers position (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20776"},"#","20776"),")")),(0,r.yg)("h4",{id:"pips-accepted-in-320-release"},"PIPs accepted in 3.2.0 release"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-323.md"},"PIP-323"),": Complete Backlog Quota Telemetry (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21709"},"#","21709"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-322.md"},"PIP-322"),": Pulsar Rate Limiting Refactoring (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21680"},"#","21680"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-320.md"},"PIP-320"),": OpenTelemetry Scaffolding (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21635"},"#","21635"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-318.md"},"PIP-318"),": Don't retain null-key messages during topic compaction (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21541"},"#","21541"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-315.md"},"PIP-315"),": Configurable max delay limit for delayed delivery (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21490"},"#","21490"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-313.md"},"PIP-313"),": Support force unsubscribe using consumer api (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21452"},"#","21452"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-312.md"},"PIP-312"),": Use StateStoreProvider to manage state in Pulsar Functions endpoints (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21438"},"#","21438"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-307.md"},"PIP-307"),": Optimize Bundle Unload(Transfer) Protocol for ExtensibleLoadManager (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20748"},"#","20748"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip_307.md"},"PIP-307-dup"),": Support subscribing multi topics for WebSocket (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21390"},"#","21390"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-305.md"},"PIP-305"),": Customize DNS servers to use for Pulsar Client (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21352"},"#","21352"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-303.md"},"PIP-303"),": Add optional parameters for getPartitionedStats (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21228"},"#","21228"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-302.md"},"PIP-302"),": Introduce refreshAsync API for TableView (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21271"},"#","21271"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-301.md"},"PIP-301"),": Introduce LoadBalanceResources to unify the load-date CRUD (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21129"},"#","21129"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-300.md"},"PIP-300"),": Add custom dynamic configuration for plugins (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21127"},"#","21127"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-299.md"},"PIP-299"),": Stop dispatch messages if the individual acks will be lost in the persistent storage (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21118"},"#","21118"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-297.md"},"PIP-297"),": Support terminating Function & Connector with the fatal exception (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21079"},"#","21079"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-293.md"},"PIP-293"),": Delete config disableBrokerInterceptors (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20993"},"#","20993"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-290.md"},"PIP-290"),": Provide a way to implement WSS E2E encryption and not need to expose the private key to the WebSocket Proxy (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20923"},"#","20923"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-286.md"},"PIP-286"),": Make the TopicCompactionService to support find entry based on publishTime or index (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20867"},"#","20867"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-277.md"},"PIP-277"),": Add current option in the Clusters list cmd (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20614"},"#","20614"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-264.md"},"PIP-264"),": Enhanced OTel-based metric system ",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21080"},"#","21080"))),(0,r.yg)("h4",{id:"pips-accepted-in-310-release"},"PIPs accepted in 3.1.0 release"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-275.md"},"PIP-275"),": Introduce topicOrderedExecutorThreadNum to deprecate numWorkerThreadsForNonPersistentTopic (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20504"},"#","20504"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/issues/19806"},"PIP-255"),": Make the partition assignment strategy pluggable (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/issues/19806"},"#","19806"),")"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/blob/master/pip/pip-278.md"},"PIP-278"),": Support pluggable topic compaction service (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20624"},"#","20624"),")")),(0,r.yg)("h3",{id:"library-updates-and-dependency-changes"},"Library updates and dependency changes"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"[cleanup][misc]"," Remove classifier from netty-transport-native-unix-common dependency (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22951"},"#22951"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix]"," Upgrade Alpine packages at build time to fix CVE-2023-4236 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22763"},"#22763"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve]"," Upgrade to Oxia client 0.3.0 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22807"},"#22807"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix]"," Upgrade to Oxia 0.3.1 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23048"},"#23048"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][metadata]"," Upgrade Oxia to 0.3.2 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23140"},"#23140"),")"),(0,r.yg)("li",{parentName:"ul"},"[feat][meta]"," Bump oxia java version from 0.3.2 to 0.4.5 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23277"},"#23277"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix]"," Bump commons-io:commons-io from 2.8.0 to 2.14.0 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23393"},"#23393"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix]"," Bump google.golang.org/protobuf from 1.32.0 to 1.33.0 in /pulsar-function-go (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22261"},"#22261"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix]"," Bump io.airlift:aircompressor from 0.20 to 0.27 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22819"},"#22819"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix]"," Bump io.grpc from 1.56.0 to 1.56.1 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23276"},"#23276"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][sec]"," Drop hdfs2 support, Upgrade hadoop3 to 3.4.0 and dnsjava to 3.6.2 to address CVE-2024-25638 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23411"},"#23411"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade Avro to 1.11.4 to address CVE-2024-47561 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23394"},"#23394"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade Bouncycastle libraries to address CVEs (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22826"},"#22826"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade postgresql version to avoid CVE-2024-1597 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22635"},"#22635"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade protobuf-java to 3.25.5 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23356"},"#23356"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade vertx to 4.5.10 to address CVE-2024-8391 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23338"},"#23338"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][sec]"," Upgrade jackson to 2.17.2 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23174"},"#23174"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve]"," Upgrade IPAddress to 5.5.0 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22886"},"#22886"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve]"," Upgrade Jetcd to 0.7.7 and VertX to 4.5.8 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22835"},"#22835"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve]"," Upgrade Pulsar Python client in docker image to 3.5.0 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23377"},"#23377"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve]"," Upgrade opensearch sink to client 2.16 and tests to use server 2.16.0 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23312"},"#23312"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve]"," Use Google re2/j library for user provided regexes (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22829"},"#22829"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve]"," Install openssl in the docker image to fix compatibility with Apache Pulsar Helm chart (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23362"},"#23362"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Set Alpine base image to 3.20 instead of 3.19.1 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22941"},"#22941"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Upgrade Bookkeeper to 4.17.1 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22962"},"#22962"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Upgrade Jetty to 9.4.56.v20240826 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23405"},"#23405"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Upgrade Netty to 4.1.113 and netty-tcnative to 2.0.66 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23255"},"#23255"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Upgrade OTel library to 1.38.0 version (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22825"},"#22825"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Upgrade to Netty 4.1.111.Final and switch to use grpc-netty-shaded (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22892"},"#22892"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Bump RoaringBitmap version to 1.0.6 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22920"},"#22920"),")")),(0,r.yg)("h3",{id:"broker"},"Broker"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat]"," PIP-352: Event time based compaction (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22517"},"#22517"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add OpenTelemetry broker connection metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22931"},"#22931"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add OpenTelemetry broker replicator metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22972"},"#22972"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add OpenTelemetry consumer metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22693"},"#22693"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add OpenTelemetry managed cursor metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23000"},"#23000"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add OpenTelemetry managed ledger metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22987"},"#22987"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add OpenTelemetry metadata store stats (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22952"},"#22952"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add OpenTelemetry producer metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22882"},"#22882"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add broker web executor metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22816"},"#22816"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add managed ledger cache metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22898"},"#22898"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add replication subscription stats (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23026"},"#23026"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add schema registry metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22624"},"#22624"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Add transaction metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22970"},"#22970"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-264: Enable OpenTelemetry reusable data memory mode (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22914"},"#22914"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-321 Introduce allowed-cluster at the namespace level (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22378"},"#22378"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][broker]"," PIP-368: Support lookup based on the lookup properties (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23223"},"#23223"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][client]"," PIP-374: Visibility of messages in receiverQueue for the consumers (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23303"},"#23303"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][misc]"," PIP-264: Add OpenTelemetry HTTP rate limiting filter metric (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23042"},"#23042"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][misc]"," PIP-264: Add OpenTelemetry authentication and token metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23016"},"#23016"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][misc]"," PIP-264: Add OpenTelemetry messaging rate limit metrics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23035"},"#23035"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat][misc]"," PIP-264: Copy OpenTelemetry resource attributes to Prometheus labels (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23005"},"#23005"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-327: Support force topic loading for unrecoverable errors (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21759"},"#21759"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-347: Add role field in consumer's stat (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22562"},"#22562"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-355: Enhancing Broker-Level Metrics for Pulsar (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22779"},"#22779"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-356 Support Geo-Replication starts at earliest position (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22856"},"#22856"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-357: Correct the conf name in load balance module. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22824"},"#22824"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-358: let resource weight work for OverloadShedder, LeastLongTermMessageRate, ModularLoadManagerImpl. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22888"},"#22888"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-360 Add admin API to display Schema metadata (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22938"},"#22938"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-364: Introduce a new load balance algorithm AvgShedder (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22949"},"#22949"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-366: Support to specify different config for Configuration and Local Metadata Store (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23041"},"#23041"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-376: Make topic policies service pluggable (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23319"},"#23319"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-379: Enable the use of the classic implementation of Key_Shared / Shared with feature flag (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23424"},"#23424"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-379: Key_Shared Draining Hashes for Improved Message Ordering (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23352"},"#23352"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-379: Snapshot hash range assignments only in AUTO_SPLIT ordered mode (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23423"},"#23423"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-383: Support granting/revoking permissions for multiple topics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23372"},"#23372"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Phase 1 of PIP-370 support disable create topics on remote cluster through replication  (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23169"},"#23169"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]",' Part 2 of PIP-370: add metrics "pulsar_replication_disconnected_count" (',(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23213"},"#23213"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," PIP-354: apply topK mechanism to ModularLoadManagerImpl (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22753"},"#22753"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[Fix][broker]"," Limit replication rate based on bytes (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22674"},"#22674"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[feat]"," Use producer name and sequence number as fallback key in Key_Shared implementation (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23219"},"#23219"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix]"," Key_Shared mode consumption latency when low traffic (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23340"},"#23340"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix]"," Make operations on ",(0,r.yg)("inlineCode",{parentName:"p"},"individualDeletedMessages")," in lock scope (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22966"},"#22966"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix]"," Remove blocking calls from BookieRackAffinityMapping (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22846"},"#22846"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix]"," Removing out of the box option for Java serde in functions (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22832"},"#22832"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix]"," StatsOutputStream: add string write function (#308) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23227"},"#23227"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][admin]"," Fix half deletion when attempt to topic with a incorrect API (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23002"},"#23002"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][admin]"," Tenant AdminRoles can not contains whitespace in the beginning or end. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22450"},"#22450"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][admin]","[part-1]"," Clearly define REST API on Open API (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22774"},"#22774"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][admin]","[part-2]"," Clearly define REST API on Open API for Namespaces@v2 (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22775"},"#22775"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][admin]","[part-3]","Clearly define REST API on Open API for Topics (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22782"},"#22782"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][admin]","[part-4]"," Clearly define REST API on Open API (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22783"},"#22783"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Add principal name into info log to enhance analysis and troubleshooting (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23257"},"#23257"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Allow broker to handle non-recoverable schema error only if SchemaLedgerForceRecovery flag is enabled (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23428"},"#23428"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Asynchronously return brokerRegistry.lookupAsync when checking if broker is active(ExtensibleLoadManagerImpl only) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22899"},"#22899"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Avoid introducing delay when there are delayed messages or marker messages (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23343"},"#23343"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Avoid orphan ledgers in BucketDelayedDeliveryTracker (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22802"},"#22802"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Can't connecte to non-persist topic when enable broker client tls (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22991"},"#22991"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Cancel possible pending replay read in cancelPendingRead (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23384"},"#23384"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Check the markDeletePosition and calculate the backlog (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22947"},"#22947"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Do not try to clean owned bundles from inactive source brokers (ExtensibleLoadManagerImpl only) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23064"},"#23064"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Ensure that PulsarService is ready for serving incoming requests (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22977"},"#22977"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," EntryFilters fix NoClassDefFoundError due to closed classloader (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22767"},"#22767"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Execute the pending callbacks in order before ready for incoming requests (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23266"},"#23266"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fail fast if the extensible load manager failed to start (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23297"},"#23297"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix 'Disabled replicated subscriptions controller' logic and logging (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23142"},"#23142"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix AvgShedder strategy check (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23156"},"#23156"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix Broker was failing to create producer with broken schema ledger (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23395"},"#23395"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix Broker was failing to load stats-internal with broken schema ledger (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22845"},"#22845"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix MessageDeduplication replay timeout cause topic loading stuck (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23004"},"#23004"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix NPE after publishing a tombstone to the service unit channel (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22859"},"#22859"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix ProducerBusy issue due to incorrect userCreatedProducerCount on non-persistent topic (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22685"},"#22685"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix ack hole in cursor for geo-replication (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/20931"},"#20931"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix authenticate order in AuthenticationProviderList (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23111"},"#23111"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix broker OOM when upload a large package. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22989"},"#22989"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix brokers still retry start replication after closed the topic (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23237"},"#23237"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix compatibility issues for PIP-344 (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23136"},"#23136"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix configurationMetadataSyncEventTopic is marked supporting dynamic setting, but not implemented  (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22684"},"#22684"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix cursor should use latest ledger config (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22644"},"#22644"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix delivery-test with unnecessary invocation-count (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23399"},"#23399"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix doc of ThresholdShedder and remove useless method. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22798"},"#22798"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix geo-replication admin client url (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22584"},"#22584"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix incomplete NAR file extraction which prevents broker from starting (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23274"},"#23274"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix namespace unload might be blocked too long with extensible load manager (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23433"},"#23433"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix nothing changed after removing dynamic configs (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22673"},"#22673"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix out-of-order issues with ConsistentHashingStickyKeyConsumerSelector (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23327"},"#23327"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix retry backoff for PersistentDispatcherMultipleConsumers (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23284"},"#23284"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix shadow topics cannot be consumed when the entry is not cached (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23147"},"#23147"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix stuck when enable topic level replication and build remote admin fails (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23028"},"#23028"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix system topic can not be loaded up if it contains data offloaded (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23279"},"#23279"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix the broker registering might be blocked for long time (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23371"},"#23371"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix the broker registery cannot recover from the metadata node deletion (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23359"},"#23359"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix the bug that elected leader thinks it's a follower (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23138"},"#23138"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix thread unsafe access on the bundle range cache for load manager (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23217"},"#23217"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix topic policies cannot be queried with extensible load manager (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23326"},"#23326"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix topic status for oldestBacklogMessageAgeSeconds continuously increases even when there is no backlog. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22907"},"#22907"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix typo in PersistentTopicsBase (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22904"},"#22904"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix typos in pulsar-broker and tiered-storage. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23415"},"#23415"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix unloadNamespaceBundlesGracefully can be stuck with extensible load manager  (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23349"},"#23349"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix updatePartitionedTopic when replication at ns level and topic policy is set (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22971"},"#22971"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Handle BucketDelayedDeliveryTracker recover failed (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22735"},"#22735"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Handle the case when ",(0,r.yg)("inlineCode",{parentName:"p"},"getOwnedServiceUnits")," fails gracefully (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23119"},"#23119"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Immediately tombstone Deleted and Free state bundles (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22743"},"#22743"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Internal reader of __change_events can not started after metadata store session rebuilt (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23018"},"#23018"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Introduce the last sent position to fix message ordering issues in Key_Shared (PIP-282) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21953"},"#21953"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Let Pending ack handler can retry to init when encounters a metadata store error (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23153"},"#23153"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Make ExtensibleLoadManagerImpl.getOwnedServiceUnits async (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22727"},"#22727"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Messages lost on the remote cluster when using topic level replication (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22890"},"#22890"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Partitioned shadow topic not work properly (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22797"},"#22797"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," PulsarStandalone started with error if --stream-storage-port is not 4181 (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22993"},"#22993"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Remove blocking calls from Subscription.getStats (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23088"},"#23088"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Replication stuck when partitions count between two clusters is not the same (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22983"},"#22983"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Skip reading entries from closed cursor. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22751"},"#22751"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Support advertised listeners when gracefully transferring topics (ExtensibleLoadManagerImpl only) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22862"},"#22862"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Support large number of unack message store for cursor recovery (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/9292"},"#9292"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," The topic might reference a closed ledger (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22860"},"#22860"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Topic can never be loaded up due to broker maintains a failed topic creation future (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23184"},"#23184"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Update init and shutdown time and other minor logic (ExtensibleLoadManagerImpl only) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22930"},"#22930"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," broker log a full thread dump when a deadlock is detected in healthcheck every time (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22916"},"#22916"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," disable loadBalancerDirectMemoryResourceWeight by default (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22821"},"#22821"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," disable loadBalancerMemoryResourceWeight by default (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22820"},"#22820"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix can not cleanup heartbeat data if scaling down broker (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22750"},"#22750"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix compile error for PersistentStickyKeyDispatcherMultipleConsumers (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23055"},"#23055"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix deadlock when disable topic level Geo-Replication (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22738"},"#22738"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix exception may hidden and result in stuck when topic loading (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23102"},"#23102"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix pulsar-admin topics stats-internal caused a BK client thread a deadlock (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23258"},"#23258"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix replicated namespaces filter in filterAndUnloadMatchedNamespaceAsync (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23100"},"#23100"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix replicated subscriptions for transactional messages (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22452"},"#22452"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix the log format error in the AdminResource (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23278"},"#23278"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix topic partitions was expanded even if disabled topic level replication (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22769"},"#22769"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix typo and useless local variable. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22704"},"#22704"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix unload bundle count metric. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22895"},"#22895"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," maintain last active info in memory only. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22794"},"#22794"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," normalize path (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23438"},"#23438"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," rename to changeMaxReadPositionCount (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22656"},"#22656"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," replace loadSheddingPipeline with loadSheddingStrategy. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22786"},"#22786"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," response not-found error if topic does not exist when calling getPartitionedTopicMetadata (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22838"},"#22838"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," support peek-message for compressed and encrypted messages (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23234"},"#23234"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," timeout when broker registry hangs and monitor broker registry (ExtensibleLoadManagerImpl only) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23382"},"#23382"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," topics failed to delete after remove cluster from replicated clusters set and caused OOM (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23360"},"#23360"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," type cast on exceptions in exceptionally can lead to lost calls (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23117"},"#23117"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," usedLocallySinceLastReport should always be reset (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22672"},"#22672"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," fix irregular method name (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23108"},"#23108"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," A failed consumer/producer future in ServerCnx can never be removed (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23123"},"#23123"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][broker]"," Fix lookupService.getTopicsUnderNamespace can not work with a quote pattern (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23014"},"#23014"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][meta]"," Check if metadata store is closed in RocksdbMetadataStore (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22852"},"#22852"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][meta]"," Oxia metadta store: Convert error to MetadataStoreException if operation failed (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23154"},"#23154"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][ml]"," Add entry fail due to race condition about add entry failed/timeout and switch ledger (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22221"},"#22221"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][ml]"," Fix race conditions in RangeCache (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22789"},"#22789"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][ml]"," Managed ledger should recover after open ledger failed (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23368"},"#23368"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][ml]"," Remove duplicated field initialization of ML (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22676"},"#22676"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][ml]"," Remove unnecessary return in ManagedLedgerImpl (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23418"},"#23418"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][ml]","Fix subscription props could be lost in case of missing ledger during recovery (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22637"},"#22637"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][ml]","[PIP-327]"," fix recover from ledger when ledgerForceRecovery is true (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23426"},"#23426"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][offload]"," Break the fillbuffer loop when met EOF (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22722"},"#22722"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][offload]"," Fix OOM in tiered storage, caused by unbounded offsets cache (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22679"},"#22679"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[fix][schema]"," Error checking schema compatibility on a schema-less topic via REST API (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22720"},"#22720"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][admin]"," PIP-369 Change default value of ",(0,r.yg)("inlineCode",{parentName:"p"},"unload-scope")," in ",(0,r.yg)("inlineCode",{parentName:"p"},"ns-isolation-policy set")," (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23253"},"#23253"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][admin]"," PIP-369 Introduce ",(0,r.yg)("inlineCode",{parentName:"p"},"unload")," flag in ",(0,r.yg)("inlineCode",{parentName:"p"},"ns-isolation-policy set")," call (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23120"},"#23120"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Add ServiceUnitStateTableView (ExtensibleLoadManagerImpl only) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23301"},"#23301"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Add additionalSystemCursorNames ignore list for TTL check (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22614"},"#22614"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Add callback parameters to the SendCallback.sendComplete (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23196"},"#23196"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Add limits for Key_Shared Subscription look ahead in dispatching (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23231"},"#23231"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Add log to track issue when ",(0,r.yg)("inlineCode",{parentName:"p"},"handleGetTopicsOfNamespace")," (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23434"},"#23434"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Add retry for start service unit state channel (ExtensibleLoadManagerImpl only) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23230"},"#23230"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Add subscription prefix for internal reader (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23044"},"#23044"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Avoid subscription fenced error with consumer.seek whenever possible (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23163"},"#23163"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Check max producers/consumers limitation first before other ops to save resources (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23074"},"#23074"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Clear thread local BrokerEntryMetadata instance before reuse (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22752"},"#22752"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Close protocol handlers before unloading namespace bundles (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22728"},"#22728"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Decouple ManagedLedger interfaces from the current implementation (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23311"},"#23311"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Do not call cursor.isCursorDataFullyPersistable if disabled dispatcherPauseOnAckStatePersistentEnabled (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22729"},"#22729"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]",' Don\'t use "recently joined consumers" rules for Key_Shared in STICKY mode (',(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23275"},"#23275"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Explicitly close LB internal topics when playing a follower (ExtensibleLoadManagerImpl only) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23144"},"#23144"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Fail fast when it failed to create LoadSheddingStrategy instance (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22827"},"#22827"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," GetPartitionMetadata fail also can produce messages (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23050"},"#23050"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Improve CPU resources usege of TopicName Cache (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23052"},"#23052"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Improve exception for topic does not have schema to check (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22974"},"#22974"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Improve pulsar_topic_load_failed metric to record correct failed time (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23199"},"#23199"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Make cluster metadata init command support metadata config path (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23269"},"#23269"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Optimize PersistentTopic.getLastDispatchablePosition (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22707"},"#22707"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Optimize high CPU usage when consuming from topics with ongoing txn (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23189"},"#23189"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Optimize message payload traffic for ShadowReplicator (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23236"},"#23236"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Optimize performance for checking max topics when the topic is a system topic (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23185"},"#23185"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Optimize the performance of individual acknowledgments (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23072"},"#23072"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Reduce number of OpenTelemetry consumer attributes (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22837"},"#22837"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Reduce the CPU pressure from the transaction buffer in rolling restarts (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23062"},"#23062"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Reducing the parse of MessageMetadata in compaction (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23285"},"#23285"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Register the broker to metadata store without version id compare (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23298"},"#23298"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Remove ClassLoaderSwitcher to avoid objects allocations and consistent the codestyle (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22796"},"#22796"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Remove ConcurrentOpenHashMap and ConcurrentOpenHashSet (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23329"},"#23329"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Remove unused method CompactionRecord.reset (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22670"},"#22670"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Replace ConcurrentOpenHashMap with ConcurrentHashMap in BrokerService (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23320"},"#23320"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Replace ConcurrentOpenHashMap with ConcurrentHashMap in Topic classes (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23322"},"#23322"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Reschedule reads with increasing backoff when no messages are dispatched (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23226"},"#23226"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Reuse topic OpenTelemetry attributes (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22876"},"#22876"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Should notify bundle ownership listener onLoad event when ServiceUnitState start (ExtensibleLoadManagerImpl only) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23152"},"#23152"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Support customized shadow managed ledger implementation (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23179"},"#23179"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Support to specify auth-plugin, auth-parameters and tls-enable arguments when init cluster metadata (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23087"},"#23087"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Trigger offload on topic load (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22652"},"#22652"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Use RoaringBitmap in tracking individual acks to reduce memory usage (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23006"},"#23006"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," avoid creating new objects when intercepting (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22790"},"#22790"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," check system topic is used before configuring system topic (ExtensibleLoadManagerImpl only) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23381"},"#23381"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," don't do load shedding when metadata service not available (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23040"},"#23040"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," high CPU usage caused by list topics under namespace (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23049"},"#23049"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," log exception in MessageDeduplication#takeSnapshot (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22994"},"#22994"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," make system topic distribute evenly. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22953"},"#22953"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Change the log level to reduce repeated error logs (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23192"},"#23192"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]"," Ensure namespace deletion doesn't fail (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22627"},"#22627"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]","Reuse method getAvailableBrokersAsync (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23099"},"#23099"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]","[PIP-379]",' Add observability stats for "draining hashes" (',(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23429"},"#23429"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]","[PIP-379]"," Don't replace a consumer when there's a collision (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23441"},"#23441"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]","[PIP-379]"," Improve hash collision handling by restoring consumer when other leaves (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23447"},"#23447"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][misc]"," Replace dependencies on PositionImpl with Position interface (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22891"},"#22891"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]","[PIP-384]"," Decouple Bookkeeper client from ManagedLedgerStorage and enable multiple ManagedLedgerFactory instances (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23313"},"#23313"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][broker]","[break change]"," Do not create partitioned DLQ/Retry topic automatically (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22705"},"#22705"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[cleanup][broker]"," Remove PersistentSubscription.getStats (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23095"},"#23095"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[cleanup][broker]"," Remove warn logs when changing the state from Owned to Free (Extensible LB) (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22708"},"#22708"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[cleanup][broker]"," delete ConcurrentSortedLongPairSet. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23202"},"#23202"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[cleanup][broker]"," remove DeviationShedder. (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22800"},"#22800"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve]"," Allow to construct Oxia metadata-store directly from a client instance (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22756"},"#22756"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve]"," Refactored BK ClientFactory to return futures (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22853"},"#22853"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][meta]"," Fix invalid use of drain API and race condition in closing metadata store (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22585"},"#22585"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][ml]"," RangeCache refactoring follow-up: use StampedLock instead of synchronized (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22818"},"#22818"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][ml]"," RangeCache refactoring: test race conditions and prevent endless loops (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22814"},"#22814"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][offload]"," Allow to disable the managedLedgerOffloadDeletionLagInMillis (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22689"},"#22689"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][offload]"," Replace usage of shaded class in OffsetsCache (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/22683"},"#22683"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][schema]"," Improve Incompatible Schema Exception error message in ServerCnx.java (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/23344"},"#23344"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"[improve][txn]"," Take first snapshot before persisting the first transactional message (",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pull/21406"},"#21406"),")"))),(0,r.yg)("h3",{id:"observability"},"Observability"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"[Enhancement]"," Added a metric for geo replication for tracking replicated subscriptions snapshot timeouts (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22381"},"#22381"),")"),(0,r.yg)("li",{parentName:"ul"},"[feat][broker]"," Add broker health check status into prometheus metrics  (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20147"},"#20147"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][admin]"," Improve BrokerStats.allocatorStats (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23242"},"#23242"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][broker]"," Add msgInReplay subscription stat and metric to improve Key_Shared observability (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23224"},"#23224"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][log]"," Print source client addr when enabled haProxyProtocolEnabled (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22686"},"#22686"),")")),(0,r.yg)("h3",{id:"client"},"Client"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"[cleanup][client]"," Remove unneeded sync scope in TransactionImpl (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22932"},"#22932"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix]"," DLQ to handle bytes key properly (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23172"},"#23172"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Add more info while throwing reader creation exception (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23401"},"#23401"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Copy orderingKey to retry letter topic and DLQ messages and fix bug in copying (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23182"},"#23182"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Create the retry producer async (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23157"},"#23157"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix ReaderBuilder doest not give illegalArgument on connection failure retry (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22639"},"#22639"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix broker/Client CPU reaching 100% during retriable connection failure (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23251"},"#23251"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix client handle unknown exception during message-decryption and apply decryption action accordingly (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23256"},"#23256"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix client to handle permits for discarded and failed decrypt batch-message (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23068"},"#23068"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix concurrent lookup with properties might have different results (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23260"},"#23260"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix failover consumer-listener stuck with cumulative ack and epoch time (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23345"},"#23345"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix for early hit ",(0,r.yg)("inlineCode",{parentName:"li"},"beforeConsume")," for MultiTopicConsumer (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23141"},"#23141"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix negative acknowledgement by messageId (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23060"},"#23060"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix orphan consumer when reconnection and closing are concurrency executing (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22958"},"#22958"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix pattern consumer create crash if a part of partitions of a topic have been deleted (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22854"},"#22854"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix resource leak in Pulsar Client since HttpLookupService doesn't get closed (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22858"},"#22858"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix the javadoc for ConsumerBuilder.isAckReceiptEnabled (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23452"},"#23452"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," Fix timeout handling in Pulsar Admin client (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23128"},"#23128"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," PIP-344 Do not create partitioned metadata when calling pulsarClient.getPartitionsForTopic(topicName) (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22206"},"#22206"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," TransactionCoordinatorClient support retry (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23081"},"#23081"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][client]"," the nullValue in msgMetadata should be true by default (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22372"},"#22372"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][client]"," Add exception handle for client send error (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23038"},"#23038"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][client]"," Add log when can't add message to the container (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21924"},"#21924"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][client]"," Add maxConnectionsPerHost and connectionMaxIdleSeconds to PulsarAdminBuilder (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22541"},"#22541"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][client]"," Deprecate ",(0,r.yg)("inlineCode",{parentName:"li"},"MessageIdUtils.getOffset")," and ",(0,r.yg)("inlineCode",{parentName:"li"},"MessageIdUtils.getMessageId")," (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22747"},"#22747"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][client]"," Don't print info logs for each schema loaded by client (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23206"},"#23206"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][client]"," Increase default Java client connectionMaxIdleSeconds to 60 seconds (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23430"},"#23430"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][client]"," PIP-344 support feature flag supportsGetPartitionedMetadataWithoutAutoCreation (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22773"},"#22773"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][client]"," improve the class GetTopicsResult (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22766"},"#22766"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][client]"," Add new ServiceUrlProvider implementation: SameAuthParamsAutoClusterFailover (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23129"},"#23129"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][client]"," PIP-359:Support custom message listener executor for specific subscription (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22861"},"#22861"),")")),(0,r.yg)("h3",{id:"pulsar-io-and-pulsar-functions"},"Pulsar IO and Pulsar Functions"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"[fix][fn]"," Enable optimized Netty direct byte buffer support for Pulsar Function runtimes (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22910"},"#22910"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][fn]"," Support compression type and crypto config for all producers in Functions and Connectors (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22950"},"#22950"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][io]"," Upgrade mssql server docker tag in DebeziumMsSqlContainer (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23318"},"#23318"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve]"," Validate user paths in Functions utils (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22833"},"#22833"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][fn]"," Add support for overriding additionalJavaRuntimeArguments with PF_additionalJavaRuntimeArguments env (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23130"},"#23130"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][fn]"," Make producer cache bounded and expiring in Functions/Connectors (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22945"},"#22945"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][io]"," The JDBC connector supports JSON substructure schema (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23043"},"#23043"),")")),(0,r.yg)("h3",{id:"others"},"Others"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"[improve]"," PIP-337: Implement SSL Factory Plugin to customize SSL Context and SSL Engine generation (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23110"},"#23110"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Improve AES-GCM cipher performance (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23122"},"#23122"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Optimize TLS performance by omitting extra buffer copies (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23115"},"#23115"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Set format_version=5, checksum=kxxHash in Bookkeeper RocksDB configs (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23175"},"#23175"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][proxy]"," Add debug logs for proxy cnx management (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23037"},"#23037"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][proxy]"," Reuse authentication instance in pulsar-proxy (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23113"},"#23113"),")"),(0,r.yg)("li",{parentName:"ul"},"[feat]"," Add scripts for updating BK RocksDB ini files (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23178"},"#23178"),")"),(0,r.yg)("li",{parentName:"ul"},"[feat][ws]"," Add support for initialSubscriptionPosition in Websocket Consumer (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23013"},"#23013"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix]"," Reapply shell script parameter passthrough fix #22867 reverted in #22921 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22923"},"#22923"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][cli]",' Fix Pulsar standalone "--wipe-data" (',(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22885"},"#22885"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][cli]"," Fix Pulsar standalone shutdown - bkCluster wasn't closed (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22868"},"#22868"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][cli]"," Fix Pulsar-Client CLI to print metadata of message including encryption metadata (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23347"},"#23347"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][cli]"," Fix Pulsar-Client to allow consume encrypted messages with appropriate crypto-failure-action (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23346"},"#23346"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][cli]",' Fix expiration of tokens created with "pulsar tokens create" (',(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22815"},"#22815"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][cli]"," Fix healthcheck script pulsar-zookeeper-ruok.sh (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22873"},"#22873"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][cli]"," Fix the pulsar-daemon parameter passthrough syntax (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22905"},"#22905"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][cli]"," Refactor scripts to detect major Java version and pass correct add-opens parameters (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22927"},"#22927"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][cli]"," Remove defaultValue of tenant/namespace for CmdFunctions (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22764"},"#22764"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][cli]",' Remove deprecated "-client" JVM arg (',(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23370"},"#23370"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][cli]"," Add compactor type option for compaction tool (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23446"},"#23446"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][cli]"," PIP-353: Improve transaction message visibility for peek-message (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22762"},"#22762"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][cli]"," Supports creating tokens with additional headers (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22690"},"#22690"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][cli]"," Use LoadManagerReport instead of Object (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22850"},"#22850"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][conf]"," fix configuration name and typo. (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22822"},"#22822"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][conf]"," fix typo for TransferShedder. (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22757"},"#22757"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][doc]"," Fix some typos in pip (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23288"},"#23288"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][doc]"," Fix the doc for the message redelivery backoff (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22855"},"#22855"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][doc]"," fix the class name of transaction exception. (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22687"},"#22687"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][log]"," Do not print error log if tenant/namespace does not exist when calling get topic metadata (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23291"},"#23291"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][log]"," Do not print warn log when concurrently publishing and switching ledgers (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23209"},"#23209"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][misc]"," Add proper nslookup (included in bind-tools) to docker image (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22878"},"#22878"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][misc]"," Correct the comment of tlsAllowInsecureConnection in ClusterDataImpl class. (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22919"},"#22919"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][misc]"," Correct the description of patternAutoDiscoveryPeriod (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22615"},"#22615"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][misc]"," Disable JFR based telemetry collection since it's not used (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22869"},"#22869"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][misc]"," Log Conscrypt security provider initialization warnings at debug level (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23364"},"#23364"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][misc]"," Remove RoaringBitmap dependency from pulsar-common (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23008"},"#23008"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][misc]"," Rename netty native libraries in pulsar-client-admin-shaded (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22954"},"#22954"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][misc]"," Topic name from persistence name should decode local name (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22879"},"#22879"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][doc]"," Add Pulsar Geo-Replication considerations to the PIP template (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23145"},"#23145"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve]"," Configure Rocksdb to use musl libc flavor of the native library (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23375"},"#23375"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve]"," Validate range of argument before long -> int conversion (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22830"},"#22830"),")"),(0,r.yg)("li",{parentName:"ul"},"[cleanup]"," Cleanup some duplicated code (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23204"},"#23204"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][pip]"," Improve PIP process and voting timeline (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23387"},"#23387"),")")),(0,r.yg)("h3",{id:"tests-build--ci"},"Tests, Build & CI"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Address flaky GetPartitionMetadataMultiBrokerTest (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23456"},"#23456"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fix ReplicatorRateLimiterTest (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23369"},"#23369"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fix TableViewBuilderImplTest NPE and infinite loop (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22924"},"#22924"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fix flaky AuthorizationTest.testGetListWithGetBundleOp (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22713"},"#22713"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fix flaky GetPartitionMetadataMultiBrokerTest.testCompatibilityDifferentBrokersForNonPersistentTopic (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23259"},"#23259"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fix flaky SubscriptionSeekTest.testSeekIsByReceive (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23170"},"#23170"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fix flaky UnloadSubscriptionTest.testMultiConsumer (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23243"},"#23243"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fix flaky test LeaderElectionTest.revalidateLeaderWithinSameSession (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22383"},"#22383"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fix flaky test ManagedLedgerTest.testDeleteCurrentLedgerWhenItIsClosed (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23437"},"#23437"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fix flaky test testShadowWrites (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22745"},"#22745"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fixed many tests of pulsar-proxy are not running (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23118"},"#23118"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Revert the modification to NonDurableSubscriptionTest caused by a mistake in the PR#23129 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23168"},"#23168"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Update OpenTelemetry receiver endpoint in integration test (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22998"},"#22998"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," fix testGetMetrics in ExtensibleLoadManagerImplTest. (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22864"},"#22864"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][test]"," Fix flaky test increase the delay time (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23046"},"#23046"),")"),(0,r.yg)("li",{parentName:"ul"},"[cleanup][test]"," delete invalid method in PrometheusMetricsTest (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23218"},"#23218"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix]"," Fix compile failing (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23070"},"#23070"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix]"," JWT CLI util should force the token validation (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22831"},"#22831"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][build]"," Add basic support for vscode-java and Eclipse IDE (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23448"},"#23448"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][build]"," Add curl command for pulsar image (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22732"},"#22732"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][build]"," Add re2/j dependency to pulsar-common and client shading (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22884"},"#22884"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][build]"," Disable flaky test BrokerRegistryIntegrationTest (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23367"},"#23367"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][build]"," Fix CVE-2024-2511 by upgrading to OpenSSL in docker image (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22731"},"#22731"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][build]"," Fix problem where git.commit.id.abbrev is missing in image tagging (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23337"},"#23337"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][build]"," Fix pulsar-client-python installation on ARM arch (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22733"},"#22733"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][build]"," Fixed creation of ",(0,r.yg)("inlineCode",{parentName:"li"},"packages-storage")," directory in docker image (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22730"},"#22730"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][build]"," Remove duplicate dependencies in pom.xml (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23440"},"#23440"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][build]"," Remove unnecessary Oracle maven repository from pom.xml (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23132"},"#23132"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][ci]"," Fix OWASP Dependency Check download by using NVD API key (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22999"},"#22999"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][ci]"," Fix jacoco code coverage report aggregation (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22964"},"#22964"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][ci]"," Fix snappy-java native lib fails to load in x86 alpine (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22804"},"#22804"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][ci]"," Pin aquasecurity/",(0,r.yg)("a",{parentName:"li",href:"mailto:trivy-action@0.26.0"},"trivy-action@0.26.0")," since master is broken (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23431"},"#23431"),")"),(0,r.yg)("li",{parentName:"ul"},"[fix][ci]"," Replace removed macos-11 with macos-latest in GitHub Actions (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22965"},"#22965"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Drop deprecated pulsar-client-1x and pulsar-client-2x-shaded modules (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23450"},"#23450"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Improve docker-push (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22702"},"#22702"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Move docker-push profile to submodule (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23093"},"#23093"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Remove invalid relativePath definitions in pom.xml files (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22741"},"#22741"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Require Java 17 or Java 21 for building Pulsar (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22875"},"#22875"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Support custom image and label names (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22703"},"#22703"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Support git worktree working directory while building docker images (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22851"},"#22851"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Update maven-wrapper (mvnw) to recent stable version 3.3.2 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23410"},"#23410"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Upgrade dependency-check-maven-plugin to 10.0.2 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23012"},"#23012"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Upgrade docker-maven-plugin to 0.45.0 (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23091"},"#23091"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][build]"," Use amazoncorretto:21-alpine image instead of apk installation (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22973"},"#22973"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][misc]"," Replace rename-netty-native-libs.sh script with renaming with maven-shade-plugin (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22957"},"#22957"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][ci]"," Add arm64 image build (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22755"},"#22755"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][ci]"," Continue Pulsar CI build even when Trivy scanner fails (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23397"},"#23397"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][ci]"," Migrate from Gradle Enterprise to Develocity (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22880"},"#22880"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][ci]"," Move some flaky ExtensibleLoadManager tests to flaky group until they are fixed (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23414"},"#23414"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][ci]"," Switch to Java 21 as default JVM version for CI (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23373"},"#23373"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][ci]"," Switch to use DEVELOCITY_ACCESS_KEY from GRADLE_ENTERPRISE_ACCESS_KEY (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/23090"},"#23090"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][ci]"," Upgrade/Downgrade test (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22988"},"#22988"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][test]"," Add a test to guarantee the TNX topics will not be replicated (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22721"},"#22721"),")"),(0,r.yg)("li",{parentName:"ul"},"[improve][test]"," Restart broker in SimpleProducerConsumerTest if ns deletion times out (",(0,r.yg)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/22734"},"#22734"),")")))}h.isMDXComponent=!0}}]);