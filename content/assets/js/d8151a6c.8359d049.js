"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[69709],{3905:(e,a,t)=>{t.d(a,{Zo:()=>s,kt:()=>k});var r=t(67294);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function n(e,a){if(null==e)return{};var t,r,l=function(e,a){if(null==e)return{};var t,r,l={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var u=r.createContext({}),o=function(e){var a=r.useContext(u),t=a;return e&&(t="function"==typeof e?e(a):p(p({},a),e)),t},s=function(e){var a=o(e.components);return r.createElement(u.Provider,{value:a},e.children)},h="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},m=r.forwardRef((function(e,a){var t=e.components,l=e.mdxType,i=e.originalType,u=e.parentName,s=n(e,["components","mdxType","originalType","parentName"]),h=o(t),m=l,k=h["".concat(u,".").concat(m)]||h[m]||c[m]||i;return t?r.createElement(k,p(p({ref:a},s),{},{components:t})):r.createElement(k,p({ref:a},s))}));function k(e,a){var t=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var i=t.length,p=new Array(i);p[0]=m;var n={};for(var u in a)hasOwnProperty.call(a,u)&&(n[u]=a[u]);n.originalType=e,n[h]="string"==typeof e?e:l,p[1]=n;for(var o=2;o<i;o++)p[o]=t[o];return r.createElement.apply(null,p)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},9557:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>u,contentTitle:()=>p,default:()=>c,frontMatter:()=>i,metadata:()=>n,toc:()=>o});var r=t(87462),l=(t(67294),t(3905));const i={id:"pulsar-3.0.2",title:"Apache Pulsar 3.0.2",sidebar_label:"Apache Pulsar 3.0.2"},p=void 0,n={unversionedId:"versioned/pulsar-3.0.2",id:"versioned/pulsar-3.0.2",title:"Apache Pulsar 3.0.2",description:"2023-12-01",source:"@site/release-notes/versioned/pulsar-3.0.2.md",sourceDirName:"versioned",slug:"/versioned/pulsar-3.0.2",permalink:"/release-notes/versioned/pulsar-3.0.2",draft:!1,editUrl:"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-3.0.2.md",tags:[],version:"current",frontMatter:{id:"pulsar-3.0.2",title:"Apache Pulsar 3.0.2",sidebar_label:"Apache Pulsar 3.0.2"}},u={},o=[{value:"2023-12-01",id:"2023-12-01",level:4},{value:"Broker",id:"broker",level:3},{value:"Clients",id:"clients",level:2},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"Observability",id:"observability",level:3},{value:"CLI",id:"cli",level:3},{value:"Others",id:"others",level:3},{value:"Library updates",id:"library-updates",level:3}],s={toc:o},h="wrapper";function c(e){let{components:a,...t}=e;return(0,l.kt)(h,(0,r.Z)({},s,t,{components:a,mdxType:"MDXLayout"}),(0,l.kt)("h4",{id:"2023-12-01"},"2023-12-01"),(0,l.kt)("h3",{id:"broker"},"Broker"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix namespace bundle stuck in unloading status (21445) ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21565"},"#21565")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix create topic with different auto creation strategies causes race condition ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21545"},"#21545")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix thousands orphan PersistentTopic caused OOM ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21540"},"#21540")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix failure while creating non-durable cursor with inactive managed-ledger ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21508"},"#21508")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix PulsarService/BrokerService shutdown when brokerShutdownTimeoutMs=0 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21496"},"#21496")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Avoid pass null role in MultiRolesTokenAuthorizationProvider ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21486"},"#21486")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix the deadlock when using BookieRackAffinityMapping with rackaware policy ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21481"},"#21481")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix namespace bundle stuck in unloading status ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21445"},"#21445")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Ignore individual acknowledgment for CompactorSubscription when an entry has been filtered. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21434"},"#21434")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix heartbeat namespace create event topic and cannot delete heartbeat topic ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21360"},"#21360")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix heartbeat namespace create transaction internal topic ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21348"},"#21348")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix unload operation stuck when use ExtensibleLoadManager ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21332"},"#21332")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]","[branch-3.0]"," Fix lookup heartbeat and sla namespace bundle when using extensible load manager (21213) ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21313"},"#21313")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]"," use ConcurrentHashMap in ServiceUnitStateChannel and avoid recursive update error ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21282"},"#21282")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]","[branch-3.0]"," Fix inconsistent topic policy ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21256"},"#21256")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]","Fixed produce and consume when anonymousUserRole enabled ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21237"},"#21237")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix inconsistent topic policy ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21231"},"#21231")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fixed reset for AggregatedNamespaceStats ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21225"},"#21225")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix lookup heartbeat and sla namespace bundle when using extensible load manager ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21213"},"#21213")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]"," Not close the socket if lookup failed caused by bundle unloading or metadata ex ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21211"},"#21211")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," replicator leak when removeReplicator in NonPersistentTopic ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21205"},"#21205")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]"," Print warn log if ssl handshake error & print ledger id when switch ledger ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21201"},"#21201")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Backport fix UniformLoadShedder selecet wrong overloadbroker and underloadbroker ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21179"},"#21179")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]"," improve read entry error log for troubleshooting ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21169"},"#21169")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]","[branch-3.0]"," Fix write duplicate entries into the compacted ledger after RawReader reconnects (21081) ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21165"},"#21165")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]","[branch-3.0]"," Make read compacted entries support maxReadSizeBytes limitation (21065) ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21164"},"#21164")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Avoid splitting one batch message into two entries in StrategicTwoPhaseCompactor ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21156"},"#21156")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Make specified producer could override the previous one ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21155"},"#21155")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]"," Upgrade bookkeeper to 4.16.3 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21146"},"#21146")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]"," Improve logs for troubleshooting ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21141"},"#21141")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix web tls url null cause NPE ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21137"},"#21137")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix unack count when mixing non batch index and batch index acks ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21126"},"#21126")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix unsubscribe non-durable subscription error ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21099"},"#21099")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix isolated group not work problem. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21096"},"#21096")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix deleting topic not delete the related topic policy and schema. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21093"},"#21093")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Avoid splitting one batch message into two entries in StrategicTwoPhaseCompactor ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21091"},"#21091")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," revert remove duplicate topics name when deleteNamespace ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21087"},"#21087")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Cleanup correctly heartbeat bundle ownership when handling broker deletion event ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21083"},"#21083")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix write duplicate entries into the compacted ledger after RawReader reconnects ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21081"},"#21081")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," remove bundle-data in local metadata store. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21078"},"#21078")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Make sure all inflight writes have finished before completion of compaction ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21067"},"#21067")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]"," Make read compacted entries support maxReadSizeBytes limitation ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21065"},"#21065")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]"," Improve cache handling for partitioned topic metadata when doing lookup ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21063"},"#21063")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Use MessageDigest.isEqual when comparing digests ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21061"},"#21061")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix potential case cause retention policy not working on topic level ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21041"},"#21041")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," fix UniformLoadShedder selecet wrong overloadbroker and underloadbroker ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21025"},"#21025")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix incorrect unack msk count when dup ack a message ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20990"},"#20990")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix can't stop phase-two of compaction even though messageId read reaches lastReadId ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20988"},"#20988")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix compaction subscription delete by inactive subscription check. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20983"},"#20983")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix message loss during topic compaction ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20980"},"#20980")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix incorrect number of read compacted entries ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20978"},"#20978")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Producer is blocked on creation because backlog exceeded on topic, when dedup is enabled and no producer is there ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20951"},"#20951")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]","Fix chunked messages will be filtered by duplicating ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20948"},"#20948")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," rackaware policy is ineffective when delete zk rack info after bkclient initialize ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20944"},"#20944")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]","Check that the super user role is in the MultiRolesTokenAuthorizationProvider plugin ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20939"},"#20939")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," fix MessageDeduplication throw NPE when enable broker dedup and set namespace disable deduplication. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20905"},"#20905")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," In replication scenario, remote consumer could not be registered if there has no message was sent ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20888"},"#20888")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix inconsensus namespace policies by ",(0,l.kt)("inlineCode",{parentName:"li"},"getPoliciesIfCached")," ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20855"},"#20855")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]"," Avoid print redirect exception log when get list from bundle ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20846"},"#20846")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Inconsistent behaviour for topic auto_creation ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20843"},"#20843")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Can not receive any messages after switch to standby cluster ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20767"},"#20767")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix get topic policies as null during clean cache ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20763"},"#20763")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Avoid throwing RestException in BrokerService ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20761"},"#20761")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Gracefully shutdown does not work with admin cli in standalone ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20709"},"#20709")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," Fix ModularLoadManagerImpl always delete active bundle-data. sec ver. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20620"},"#20620")),(0,l.kt)("li",{parentName:"ul"},"[improve][broker]"," Add consumer-id into the log when doing subscribe. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20568"},"#20568")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," consider iowait as idle. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/19110"},"#19110")),(0,l.kt)("li",{parentName:"ul"},"[fix][broker]"," fix bug caused by optimistic locking ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/18390"},"#18390")),(0,l.kt)("li",{parentName:"ul"},"[fix][ml]"," Fix orphan scheduled task for ledger create timeout check ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21542"},"#21542")),(0,l.kt)("li",{parentName:"ul"},"[fix][ml]"," Fix unfinished callback when deleting managed ledger ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21530"},"#21530")),(0,l.kt)("li",{parentName:"ul"},"[fix][ml]"," fix discontinuous ledger deletion ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20898"},"#20898")),(0,l.kt)("li",{parentName:"ul"},"[fix][ml]"," Fix thread safe issue with RangeCache.put and RangeCache.clear ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21302"},"#21302")),(0,l.kt)("li",{parentName:"ul"},"[fix][ml]"," fix wrong msg backlog of non-durable cursor after trim ledgers ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21250"},"#21250")),(0,l.kt)("li",{parentName:"ul"},"[fix][ml]"," Reader can set read-pos to a deleted ledger ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21248"},"#21248")),(0,l.kt)("li",{parentName:"ul"},"[improve][ml]"," Persist mark deleted ops to ZK if create cursor ledger was failed ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20935"},"#20935")),(0,l.kt)("li",{parentName:"ul"},"[fix][txn]"," OpRequestSend reuse problem cause tbClient commitTxnOnTopic timeout unexpectedly ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21505"},"#21505"))),(0,l.kt)("h2",{id:"clients"},"Clients"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," Fix print error log 'Auto getting partitions failed' when expend partition. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21485"},"#21485")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," fix reader.hasMessageAvailable return false when incoming queue is not empty ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21259"},"#21259")),(0,l.kt)("li",{parentName:"ul"},"[improve][client]"," Merge lookup requests for the same topic ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21232"},"#21232")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," fix same producer/consumer use more than one connection per broker ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21144"},"#21144")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," Fix repeat consume when using n-ack and batched messages ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21116"},"#21116")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," Avoid ack hole for chunk message ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21101"},"#21101")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," Fix logging problem in pulsar client ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21094"},"#21094")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," Fix consumer can't consume resent chunked messages ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21070"},"#21070")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," Fix cannot retry chunk messages and send to DLQ ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21048"},"#21048")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," Fix RawReader hasMessageAvailable returns true when no messages ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21032"},"#21032")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," Fix perf-producer get OOM with high publish latency ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20914"},"#20914")),(0,l.kt)("li",{parentName:"ul"},"[improve][client]"," Disable polling pattern topics when TopicListWatcher is enabled. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20779"},"#20779")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," Fix subscribing pattern topics through Proxy not working ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20739"},"#20739")),(0,l.kt)("li",{parentName:"ul"},"[fix][client]"," Messages lost when consumer reconnect ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20695"},"#20695")),(0,l.kt)("li",{parentName:"ul"},"[fix][txn]"," fix the consumer stuck due to deduplicated messages in pending ack state ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21177"},"#21177"))),(0,l.kt)("h3",{id:"pulsar-io-and-pulsar-functions"},"Pulsar IO and Pulsar Functions"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"[fix][fn]"," fix functions_log4j2.xml delete strategy config ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21215"},"#21215")),(0,l.kt)("li",{parentName:"ul"},"[fix][fn]"," Fix ProducerConfig cannot update error ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21037"},"#21037")),(0,l.kt)("li",{parentName:"ul"},"[fix][fn]"," Fix the --batch-builder not working error for functions ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21023"},"#21023")),(0,l.kt)("li",{parentName:"ul"},"[fix][io]"," Fix --retain","[-key]","-ordering not working error for sink ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21060"},"#21060")),(0,l.kt)("li",{parentName:"ul"},"[fix][io]"," Update test certs for Elasticsearch ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21001"},"#21001")),(0,l.kt)("li",{parentName:"ul"},"[fix][io]","[branch-3.0]"," Not restart instance when kafka source poll exception. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20818"},"#20818")),(0,l.kt)("li",{parentName:"ul"},"[fix][io]"," elastic-search sink connector not support JSON.String schema. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20741"},"#20741")),(0,l.kt)("li",{parentName:"ul"},"[feat][sql]"," Support UUID for json and avro ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21267"},"#21267")),(0,l.kt)("li",{parentName:"ul"},"[improve][sql]"," Fix the wrong format of the logs ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20907"},"#20907"))),(0,l.kt)("h3",{id:"observability"},"Observability"),(0,l.kt)("h3",{id:"cli"},"CLI"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"[fix][admin]"," Fix get topic stats fail if a subscription catch up concurrently ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20971"},"#20971"))),(0,l.kt)("h3",{id:"others"},"Others"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"[fix][bk-client]"," Fix bk client MinNumRacksPerWriteQuorum and EnforceMinNumRacksPerWriteQuorum not work problem. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21327"},"#21327")),(0,l.kt)("li",{parentName:"ul"},"[fix][build]"," Fix apt download issue in building the docker image ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21489"},"#21489")),(0,l.kt)("li",{parentName:"ul"},"[fix][build]","[branch-3.0]"," Fix in-correct license definetion ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21435"},"#21435")),(0,l.kt)("li",{parentName:"ul"},"[fix][test]","[branch-3.0]"," Fix AutoRecovery flaky test. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21418"},"#21418")),(0,l.kt)("li",{parentName:"ul"},"[fix][test]"," Fix LocalBookkeeperEnsemble resource leak in tests ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21407"},"#21407")),(0,l.kt)("li",{parentName:"ul"},"[improve][ci]",' Add new CI unit test group "Broker Group 4" with cluster migration tests ',(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21391"},"#21391")),(0,l.kt)("li",{parentName:"ul"},"[fix][test]"," Fix a resource leak in ClusterMigrationTest ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21366"},"#21366")),(0,l.kt)("li",{parentName:"ul"},"[fix][ci]"," Fix docker image building by releasing more disk space before building ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21365"},"#21365")),(0,l.kt)("li",{parentName:"ul"},"[fix][sec]"," Fix MultiRoles token provider when using anonymous clients ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21338"},"#21338")),(0,l.kt)("li",{parentName:"ul"},"[fix][test]"," Fix flaky test NarUnpackerTest ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21328"},"#21328")),(0,l.kt)("li",{parentName:"ul"},"[fix][auto-recovery]","[branch-3.0]"," Fix PulsarLedgerUnderreplicationManager notify problem. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21312"},"#21312")),(0,l.kt)("li",{parentName:"ul"},"[fix][metadata]"," Fix zookeeper related flacky test ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21310"},"#21310")),(0,l.kt)("li",{parentName:"ul"},"[fix][sec]"," Add OWASP Dependency Check suppressions ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21281"},"#21281")),(0,l.kt)("li",{parentName:"ul"},"[improve][proxy]"," Not close the socket if lookup failed caused by too many requests ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21216"},"#21216")),(0,l.kt)("li",{parentName:"ul"},"[improve][auto-recovery]"," Migrate the replication testing from BookKeeper to Pulsar. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21188"},"#21188")),(0,l.kt)("li",{parentName:"ul"},"[fix][auto-recovery]"," Fix pulsar ledger auditor dead lock problem. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21181"},"#21181")),(0,l.kt)("li",{parentName:"ul"},"[fix][auto-recovery]"," Fix PulsarLedgerUnderreplicationManager notify problem. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21161"},"#21161")),(0,l.kt)("li",{parentName:"ul"},"[fix][bk]"," Improve to the ReplicaitonWorker performance by deleting invalid underreplication nodes ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21160"},"#21160")),(0,l.kt)("li",{parentName:"ul"},"[fix][auto-recovery]"," Fix metadata store deadlock due to BookkeeperInternalCallbacks.Processor ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21159"},"#21159")),(0,l.kt)("li",{parentName:"ul"},"[fix][bookie]"," Fix RocksDB configuration ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21157"},"#21157")),(0,l.kt)("li",{parentName:"ul"},"[fix][proxy]"," Fix Proxy 502 gateway error when it is configured with Keystore TLS and admin API is called ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21077"},"#21077")),(0,l.kt)("li",{parentName:"ul"},"[fix][auto-recovery]"," Improve to the ReplicaitonWorker performance by deleting invalid underreplication nodes ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21059"},"#21059")),(0,l.kt)("li",{parentName:"ul"},"[fix][bk]"," Correctct the bookie info after ZK client is reconnected ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21035"},"#21035")),(0,l.kt)("li",{parentName:"ul"},"[improve][proxy]"," Support disabling metrics endpoint ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21031"},"#21031")),(0,l.kt)("li",{parentName:"ul"},"[fix][meta]"," Fix deadlock in AutoRecovery. ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21010"},"#21010")),(0,l.kt)("li",{parentName:"ul"},"[improve][ws]"," add cryptoKeyReaderFactoryClassName into the file websocket.conf ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20840"},"#20840")),(0,l.kt)("li",{parentName:"ul"},"[improve][offload]"," Extend the offload policies to allow specifying more conf ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20804"},"#20804")),(0,l.kt)("li",{parentName:"ul"},"[improve][offload]"," Create offload resources lazily ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20775"},"#20775")),(0,l.kt)("li",{parentName:"ul"},"[improve][offload]"," Support to configure more offload driver ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20736"},"#20736")),(0,l.kt)("li",{parentName:"ul"},"[fix][test]"," Close the resource after the test ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20778"},"#20778")),(0,l.kt)("li",{parentName:"ul"},"[fix][schema]"," Only handle exception when there has ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20730"},"#20730")),(0,l.kt)("li",{parentName:"ul"},"[improve][admin]"," Remove duplicate topics name when ",(0,l.kt)("inlineCode",{parentName:"li"},"deleteNamespace")," ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20683"},"#20683")),(0,l.kt)("li",{parentName:"ul"},"[fix][txn]"," fix consumer can receive aborted txn message when readType is replay ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/19815"},"#19815"))),(0,l.kt)("h3",{id:"library-updates"},"Library updates"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Upgrade Zookeeper to 3.8.3 to address CVE-2023-44981 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21398"},"#21398")),(0,l.kt)("li",{parentName:"ul"},"Upgrade Netty to 4.1.100 to address CVE-2023-44487 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21397"},"#21397")),(0,l.kt)("li",{parentName:"ul"},"Upgrade Jetty to 9.4.53 to address CVE-2023-44487 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21395"},"#21395")),(0,l.kt)("li",{parentName:"ul"},"Upgrade Guava to 32.1.1 to address CVE-2023-2976 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20699"},"#20699")),(0,l.kt)("li",{parentName:"ul"},"Upgrade Netty to 4.1.94.Final to address CVE-2023-34462 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20632"},"#20632")),(0,l.kt)("li",{parentName:"ul"},"Upgrade to jetcd to 0.7.5 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/20339"},"#20339")),(0,l.kt)("li",{parentName:"ul"},"Upgrade Lombok to 1.18.30 to support compiling with JDK21 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21278"},"#21278")),(0,l.kt)("li",{parentName:"ul"},"Bump avro version to 1.11.3 for CVE-2023-39410 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21341"},"#21341")),(0,l.kt)("li",{parentName:"ul"},"Bump GRPC version to 1.55.3 to fix CVE ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21057"},"#21057")),(0,l.kt)("li",{parentName:"ul"},"Bump broker okio version to 3.4.0 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/apache/pulsar/pull/21064"},"#21064"))),(0,l.kt)("p",null,"For the complete list, check the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/apache/pulsar/pulls?q=is%3Apr+label%3Arelease%2F3.0.2+"},"Pulsar 3.0.2 changelog"),"."))}c.isMDXComponent=!0}}]);