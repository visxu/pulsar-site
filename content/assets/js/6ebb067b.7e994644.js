"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[73509],{15680:(e,n,a)=>{a.d(n,{xA:()=>c,yg:()=>y});var r=a(96540);function t(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){t(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function o(e,n){if(null==e)return{};var a,r,t=function(e,n){if(null==e)return{};var a,r,t={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],n.indexOf(a)>=0||(t[a]=e[a]);return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var p=r.createContext({}),s=function(e){var n=r.useContext(p),a=n;return e&&(a="function"==typeof e?e(n):l(l({},n),e)),a},c=function(e){var n=s(e.components);return r.createElement(p.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},g=r.forwardRef((function(e,n){var a=e.components,t=e.mdxType,i=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=s(a),g=t,y=u["".concat(p,".").concat(g)]||u[g]||d[g]||i;return a?r.createElement(y,l(l({ref:n},c),{},{components:a})):r.createElement(y,l({ref:n},c))}));function y(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=a.length,l=new Array(i);l[0]=g;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o[u]="string"==typeof e?e:t,l[1]=o;for(var s=2;s<i;s++)l[s]=a[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}g.displayName="MDXCreateElement"},86321:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var r=a(58168),t=(a(96540),a(15680));const i={id:"client-libraries-java-setup",title:"Set up Java client",sidebar_label:"Set up",description:"Learn how to set up Java client library in Pulsar."},l=void 0,o={unversionedId:"client-libraries-java-setup",id:"version-3.2.x/client-libraries-java-setup",title:"Set up Java client",description:"Learn how to set up Java client library in Pulsar.",source:"@site/versioned_docs/version-3.2.x/client-libraries-java-setup.md",sourceDirName:".",slug:"/client-libraries-java-setup",permalink:"/docs/3.2.x/client-libraries-java-setup",draft:!1,editUrl:"https://github.com/apache/pulsar-site/edit/main/versioned_docs/version-3.2.x/client-libraries-java-setup.md",tags:[],version:"3.2.x",frontMatter:{id:"client-libraries-java-setup",title:"Set up Java client",sidebar_label:"Set up",description:"Learn how to set up Java client library in Pulsar."},sidebar:"docsSidebar",previous:{title:"Java",permalink:"/docs/3.2.x/client-libraries-java"},next:{title:"Initialize",permalink:"/docs/3.2.x/client-libraries-java-initialize"}},p={},s=[{value:"Step 1: Install Java client library",id:"step-1-install-java-client-library",level:2},{value:"Maven",id:"maven",level:3},{value:"Gradle",id:"gradle",level:3},{value:"Pulsar BOM",id:"pulsar-bom",level:3},{value:"Maven",id:"maven-1",level:4},{value:"Gradle",id:"gradle-1",level:4},{value:"Gradle with Spring Boot, using Spring Dependency Management plugin",id:"gradle-with-spring-boot-using-spring-dependency-management-plugin",level:4},{value:"Step 2: Connect to Pulsar cluster",id:"step-2-connect-to-pulsar-cluster",level:2}],c={toc:s},u="wrapper";function d(e){let{components:n,...a}=e;return(0,t.yg)(u,(0,r.A)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,t.yg)("p",null,"To set up Java client in Pulsar, complete the following steps."),(0,t.yg)("h2",{id:"step-1-install-java-client-library"},"Step 1: Install Java client library"),(0,t.yg)("p",null,"The latest version of the Pulsar Java client library is available via ",(0,t.yg)("a",{parentName:"p",href:"http://search.maven.org/#artifactdetails%7Corg.apache.pulsar%7Cpulsar-client%7C3.2.4%7Cjar"},"Maven Central"),". To use the latest version, add the ",(0,t.yg)("inlineCode",{parentName:"p"},"pulsar-client")," library to your build configuration."),(0,t.yg)("admonition",{type:"tip"},(0,t.yg)("ul",{parentName:"admonition"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://search.maven.org/artifact/org.apache.pulsar/pulsar-client"},(0,t.yg)("inlineCode",{parentName:"a"},"pulsar-client"))," and ",(0,t.yg)("a",{parentName:"li",href:"https://search.maven.org/artifact/org.apache.pulsar/pulsar-client-admin"},(0,t.yg)("inlineCode",{parentName:"a"},"pulsar-client-admin"))," shade dependencies via ",(0,t.yg)("a",{parentName:"li",href:"https://maven.apache.org/plugins/maven-shade-plugin/"},"maven-shade-plugin")," to avoid conflicts of the underlying dependency packages (such as Netty). If you do not want to manage dependency conflicts manually, you can use them."),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://search.maven.org/artifact/org.apache.pulsar/pulsar-client-original"},(0,t.yg)("inlineCode",{parentName:"a"},"pulsar-client-original"))," and ",(0,t.yg)("a",{parentName:"li",href:"https://search.maven.org/artifact/org.apache.pulsar/pulsar-client-admin-original"},(0,t.yg)("inlineCode",{parentName:"a"},"pulsar-client-admin-original"))," ",(0,t.yg)("strong",{parentName:"li"},"does not")," shade dependencies. If you want to manage dependencies manually, you can use them."))),(0,t.yg)("h3",{id:"maven"},"Maven"),(0,t.yg)("p",null,"If you use Maven, add the following information to the ",(0,t.yg)("inlineCode",{parentName:"p"},"pom.xml")," file."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- in your <properties> block --\x3e\n<pulsar.version>3.2.4</pulsar.version>\n\n\x3c!-- in your <dependencies> block --\x3e\n<dependency>\n  <groupId>org.apache.pulsar</groupId>\n  <artifactId>pulsar-client</artifactId>\n  <version>${pulsar.version}</version>\n</dependency>\n")),(0,t.yg)("h3",{id:"gradle"},"Gradle"),(0,t.yg)("p",null,"If you use Gradle, add the following information to the ",(0,t.yg)("inlineCode",{parentName:"p"},"build.gradle")," file."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-groovy"},"def pulsarVersion = '3.2.4'\n\ndependencies {\n    implementation \"org.apache.pulsar:pulsar-client:${pulsarVersion}\"\n}\n")),(0,t.yg)("h3",{id:"pulsar-bom"},"Pulsar BOM"),(0,t.yg)("p",null,"While the above dependencies are sufficient to obtain the Pulsar Java client, it is recommended to also use the ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/apache/pulsar/blob/master/pip/pip-326.md"},"Pulsar BOM")," to ensure that all Pulsar dependencies (both direct and transitive) are at the same expected version.\nIn order to use the BOM, the previous directions are modified slightly as follows:"),(0,t.yg)("h4",{id:"maven-1"},"Maven"),(0,t.yg)("p",null,"If you use Maven, add the following information to the ",(0,t.yg)("inlineCode",{parentName:"p"},"pom.xml")," file."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- in your <properties> block --\x3e\n<pulsar.version>3.2.4</pulsar.version>\n\n\x3c!-- in your <dependencyManagement>/<dependencies> block --\x3e\n<dependency>\n  <groupId>org.apache.pulsar</groupId>\n  <artifactId>pulsar-bom</artifactId>\n  <version>${pulsar.version}</version>\n  <type>pom</type>\n  <scope>import</scope>\n</dependency>\n\n\x3c!-- in your <dependencies> block --\x3e\n<dependency>\n  <groupId>org.apache.pulsar</groupId>\n  <artifactId>pulsar-client</artifactId>\n</dependency>\n")),(0,t.yg)("h4",{id:"gradle-1"},"Gradle"),(0,t.yg)("p",null,"If you use Gradle, add the following information to the ",(0,t.yg)("inlineCode",{parentName:"p"},"build.gradle")," file."),(0,t.yg)("admonition",{type:"note"},(0,t.yg)("p",{parentName:"admonition"},"Please notice that when using Spring Boot and the default Gradle  build with the Spring Dependency Management plugin (",(0,t.yg)("inlineCode",{parentName:"p"},"io.spring.dependency-management"),"), it is necessary to use Spring Dependency Management plugin features to configure the Pulsar version. Please refer to the next section for more details.")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-groovy"},"def pulsarVersion = '3.2.4'\n\ndependencies {\n  implementation enforcedPlatform(\"org.apache.pulsar:pulsar-bom:${pulsarVersion}\")\n  implementation 'org.apache.pulsar:pulsar-client'\n}\n")),(0,t.yg)("p",null,"Note that the version is number for the ",(0,t.yg)("inlineCode",{parentName:"p"},"pulsar-client")," dependency is now omitted as the Pulsar BOM dictates which version is used."),(0,t.yg)("h4",{id:"gradle-with-spring-boot-using-spring-dependency-management-plugin"},"Gradle with Spring Boot, using Spring Dependency Management plugin"),(0,t.yg)("p",null,"Please notice that when using the Spring Dependency Management plugin (",(0,t.yg)("inlineCode",{parentName:"p"},"io.spring.dependency-management"),") in Gradle, it is necessary to use Spring Dependency Management plugin features to configure the Pulsar version.\nThe Spring Boot ",(0,t.yg)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-dependency-versions.html"},"Dependency Version properties")," define ",(0,t.yg)("inlineCode",{parentName:"p"},"pulsar.version")," and ",(0,t.yg)("inlineCode",{parentName:"p"},"pulsar-reactive.version")," for controlling the Pulsar Java client version and Pulsar Reactive client version."),(0,t.yg)("p",null,"To use a specific Pulsar version for the Pulsar Java client in a Spring Boot application using Gradle, add the following to your ",(0,t.yg)("inlineCode",{parentName:"p"},"build.gradle")," file in a Spring Boot project:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-groovy"},"ext['pulsar.version'] = '3.2.4'\n\n// The Pulsar Java client will be automatically added to dependencies as a transitive dependency of the spring-boot-starter-pulsar dependency\ndependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-pulsar'\n}\n")),(0,t.yg)("p",null,"You can find more information about Spring Pulsar in the ",(0,t.yg)("a",{parentName:"p",href:"https://spring.io/projects/spring-pulsar"},"Spring for Apache Pulsar documentation"),"."),(0,t.yg)("h2",{id:"step-2-connect-to-pulsar-cluster"},"Step 2: Connect to Pulsar cluster"),(0,t.yg)("p",null,"To connect to Pulsar using client libraries, you need to specify a ",(0,t.yg)("a",{parentName:"p",href:"/docs/3.2.x/developing-binary-protocol"},"Pulsar protocol")," URL."),(0,t.yg)("p",null,"You can assign Pulsar protocol URLs to specific clusters and use the ",(0,t.yg)("inlineCode",{parentName:"p"},"pulsar")," scheme. The following is an example of ",(0,t.yg)("inlineCode",{parentName:"p"},"localhost")," with the default port ",(0,t.yg)("inlineCode",{parentName:"p"},"6650"),":"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-http"},"pulsar://localhost:6650\n")),(0,t.yg)("p",null,"If you have multiple brokers, separate ",(0,t.yg)("inlineCode",{parentName:"p"},"IP:port")," by commas:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-http"},"pulsar://localhost:6550,localhost:6651,localhost:6652\n")),(0,t.yg)("p",null,"If you use ",(0,t.yg)("a",{parentName:"p",href:"/docs/3.2.x/security-tls-authentication"},"mTLS")," authentication, add ",(0,t.yg)("inlineCode",{parentName:"p"},"+ssl")," in the scheme:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-http"},"pulsar+ssl://pulsar.us-west.example.com:6651\n")))}d.isMDXComponent=!0}}]);